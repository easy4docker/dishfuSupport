{"version":3,"sources":["modules/common/IpfsDoc.js","modules/common/Messagebox.js","stores/SettingStore.js","modules/common/RoleSection.js","modules/common/Loading.js","modules/common/Engine.js","modules/common/FingerPrinter.js","modules/common/AddressInput.js","modules/common/InfoHeader.js","modules/common/Logo.js","modules/mobileAuth/AuthHeadItem.js","modules/mobileAuth/signInForm.js","modules/mobileAuth/adminAuth.js","modules/mobileAuth/crossFromMobile.js","modules/Header.js","modules/Footer.js","modules/content/Home.js","modules/authUsersAdmin/usersList.js","modules/authUsersAdmin/applicationsList.js","modules/transReport/trsnsSocketSync.js","modules/transReport/transDocument.js","modules/Body.js","App.js","reportWebVitals.js","index.js"],"names":["IpfsDoc","Mssagebox","message","title","className","Container","style","textTransform","console","log","window","location","hostname","_defaultSetting","ready","loading","screenModel","_watcher","fp","data","signinForm","isAuth","authInfo","config","apiServer","webServer","sockerServer","ipfsServer","SettingStore","createStore","state","action","type","saveSettingApi","id","Date","getTime","composeWithDevTools","setTimeout","localStorage","setItem","JSON","stringify","callback","a","FingerprintJS","load","then","get","result","visitorId","storageName","v","getItem","parse","e","loadSettingApi","dispatch","RoleSection","roles","exroles","comp","showException","useState","myRoles","setMyRoles","Exroles","isection","filter","x","includes","exsection","loadMyRoles","getState","useEffect","handleSubscribe","subscribe","compException","Messagebox","length","Loading","sts","setSts","Object","keys","Spinner","animation","size","Engine","prop","loadingOn","loadingOff","fetchApi","cfg","me","fetch","url","json","jsonData","err","status","catch","error","updateSigninForm","token","socketid","phone","DatabaseApi","apiCode","dt","server","method","body","headers","this","defaultData","recipes","plates","orders","menus","focuses","FingerPrinter","fpPromise","AddressInput","props","defaultValue","inputAddress","setInputAddress","validAddress","setValidAddress","isValid","setIsValid","focused","setFocused","capitalize","str","charAt","toUpperCase","slice","upcase","formatedAddress","o","street_address1","city","postal_code","country","replace","verifyAddress","parser","passAddress","Form","Group","Control","required","placeholder","as","rows","onChange","target","value","onFocus","onBlur","Text","Row","Col","sx","InfoHeader","fluid","Navbar","expand","Brand","href","Logo","color","fontSize","AuthHeadItem","setIsAuth","auth","onClick","icon","faUnlockAlt","SignInForm","SOCKET_URL","WEBSERVER_URL","engine","setPhone","setToken","socketId","setSocketId","validPhone","setValidPhone","qr","setQr","patt","processServerCode","createSocket","socket","socketClient","connect","on","fromSocket","rec","signInTime","saveAuthInfo","disconnect","socket_id","loadValue","st","test","purePhone","createQR","QRCode","toDataURL","width","quality","dark","light","newsocketId","phoneForm","Label","Button","disabled","faMobileAlt","QRSection","Alert","variant","Heading","Image","src","AdminAuth","isContinue","setIsContinue","success","setSuccess","useParams","authcode","setAuthInfo","Frame","info","warningPage","created","existAuthInfo","newAuthInfo","unAuthentication","CrossFromMobile","params","targetToken","targetPhone","targetSocket","setTargetSocket","emit","Header","expanded","setExpanded","navItem","authUsers","caption","role","linkTo","transTracking","SelectedClass","useLocation","pathname","getNavLink","item","itemRole","itemExRole","exrole","Nav","Link","to","Collapse","Footer","Year","getFullYear","Home","UsersList","address","setAddress","description","setDescription","submitApplication","onDescriptionChanged","onPhoneChanged","faSearch","ApplicationsList","qualification","setQualification","onQualificationChanged","faCloudUploadAlt","TransSocketSync","sockedId","setUrl","linkUrl","TransDocument","Body","exact","path","App","loadReady","setloadReady","isDesktopOrLaptop","useMediaQuery","query","isBigScreen","isTabletOrMobile","isPortrait","isRetina","forceAuth","clear","pageLoading","headNotAuth","pageReady","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","document","_cacheExist","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d2c0a2e.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\nimport {  IPFSEngine } from '../common';\n\nfunction IpfsDoc(props) {\n  const [doc, setDoc] = useState(null);\n  const ipfsEngine = new IPFSEngine();\n  // const [tm, setTm] = useState(0);\n  const tpl = props.tpl;\n  useEffect(()=> {\n    (async ()=> {\n      const x = await ipfsEngine.promiseIpfsJSON(props.ipfs)\n      // const x = await loadIpfs();\n      setDoc(x);\n      // setTm(new Date().getTime());\n    })();\n  }, []);\n  return (!doc)? props.ipfs : tpl({record:doc, className: props.className, style:props.style})\n}\nexport default IpfsDoc;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\n\nconst Mssagebox = ({ message, title, className }) => {\n  return (<Container className={className + ' rounded p-3 message-box grid-bg'}>\n      <b style={{textTransform: 'capitalize'}}>{title}</b>\n      <h3 className=\"text-secondary m-3 p-3\">{message}</h3>\n    </Container>);\n};\nexport default Mssagebox;\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nconsole.log('window.location.hostname-->', window.location.hostname);\nconst _defaultSetting = {ready: false, loading: {}, screenModel:{}, _watcher:'',\n      fp : '',\n      data : {signinForm: {}, isAuth: false, authInfo: {}},\n      config: {\n        apiServer     : 'http://192.168.86.126:3001',\n        webServer     : 'http://192.168.86.126:3006',\n        sockerServer  : 'http://192.168.86.126:3001/dishFu',\n        ipfsServer    :  \"//gateway.ipfs.io/ipfs/\"\n      }\n  };\n\nconst reducer = (state = _defaultSetting, action) => {\n  state._watcher = '';\n  switch(action.type) {\n    case 'updateSigninForm':\n      state.data.signinForm = action.data;\n      state._watcher = 'auth';\n      saveSettingApi(state.data);\n      return state;\n    case 'saveAuthInfo':\n      \n      state.data.authInfo = action.authInfo;\n      state.data.isAuth = true;\n      state._watcher = 'forceAuth';\n      console.log('good news===?', action.authInfo);\n      saveSettingApi(state.data);\n      return state;\n\n    case 'saveAuthAdmin':\n    \n      state.data.authInfo = action.authInfo;\n      state.data.isAuth = true;\n      state._watcher = 'saveAuthAdmin';\n      saveSettingApi(state.data);\n      return state;\n\n        \n    case 'signOff':\n    \n      state.data.authInfo = {};\n      state.data.isAuth = false;\n      state._watcher = 'forceAuth';\n      saveSettingApi(state.data);\n      return state;\n \n    /* --- None api action  --> */\n    case 'loadScreenModel':\n      state.screenModel = action.screenModel;\n      return state;\n\n    case 'addLoading':\n      state._watcher = 'loading';\n      state.loading[action.id] = new Date().getTime();\n      return state;\n    case 'removeLoading':\n      state._watcher = 'loading';\n      delete state.loading[action.id];\n      return state;\n\n    case 'initStore':\n      state.data = action.data;\n      state.fp = action.fp;\n      state._watcher = 'afterInit';\n      return state;\n\n    default:\n      return state;\n  }\n};\nconst SettingStore = createStore(reducer, composeWithDevTools());\n\n/* --- simulated api ----> */\n\nconst loadSettingApi = async (callback) =>{\n  const fpPromise = FingerprintJS.load();\n  fpPromise.then(fp => fp.get())\n  .then(result => {\n    // This is the visitor identifier:\n    const visitorId = result.visitorId\n    const storageName = 'localSettingData';\n    let v = _defaultSetting.data;\n    try {\n      v = (!localStorage.getItem(storageName)) ? _defaultSetting.data : JSON.parse(localStorage.getItem(storageName))\n    } catch(e) {}\n    if (typeof callback === 'function') {\n      callback(v, result.visitorId);\n    }\n  })\n}\nconst saveSettingApi = (data) =>{\n  setTimeout(\n    ()=>{\n      localStorage.setItem('localSettingData',  JSON.stringify(data));\n    }, 500\n  );\n}\n\n/* <--- simulated api */\nloadSettingApi((data, fp)=>{\n  SettingStore.dispatch({\n    type: 'initStore',\n    data : data,\n    fp : fp\n  });\n});\n\n\n\nexport default SettingStore;\n","import React, {useState, useEffect} from 'react';\nimport { SettingStore } from \"../../stores\";\nimport { Messagebox } from \"../common\";\n\nfunction RoleSection({roles, exroles, comp, showException}) {\n  const [myRoles, setMyRoles] = useState([]);\n  const Exroles = (!exroles) ? [] : exroles;\n  \n  const isection = roles.filter(x => [...myRoles, 'all'].includes(x));\n  const exsection  = Exroles.filter(x => [...myRoles].includes(x));\n  \n  const loadMyRoles = () => {\n    setMyRoles( (!SettingStore.getState().data.authInfo || !SettingStore.getState().data.authInfo.roles) ? \n      [] : SettingStore.getState().data.authInfo.roles\n    );\n  }\n  useEffect(()=> {\n    const handleSubscribe =  SettingStore.subscribe(() => {\n        if (SettingStore.getState()._watcher === 'role' || SettingStore.getState()._watcher === 'auth') {\n          loadMyRoles();\n        }\n    });\n    loadMyRoles();\n    return ()=> {\n      handleSubscribe();\n    }\n  }, []);\n\n  const compException = (<div className=\"p-3\"><Messagebox message=\"Missing required roles\" /></div>)\n  return  (!isection.length || !!exsection.length) ? ((!showException) ? '' : compException) : comp\n}\nexport default RoleSection;\n","import React, { useState, useEffect} from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { SettingStore } from '../../stores/';\n\nfunction Loading() {\n  const [ sts, setSts] = useState(0);\n\n  useEffect(()=>{\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'loading') {\n         setSts(Object.keys(SettingStore.getState().loading).length);\n      }\n    });\n    return ()=> {\n      handleSubscribe();\n    }\n\n  },[]);\n  \n  return (\n  <div className={(sts) ? 'loading' : 'no-loading'}>\n      <Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>\n  </div>\n  )\n}\nexport { Loading }\n","import { SettingStore } from '../../stores';\n\nclass Engine {\n    constructor(prop) {\n        this.id = new Date().getTime();\n        this.defaultData = {recipes:[], plates:[], orders:[], menus:[], focuses:[]};\n        this.server = SettingStore.getState().config.apiServer;\n    }\n    loadingOn = ()=> {\n        SettingStore.dispatch({type:'addLoading', id: this.id});\n    }\n    loadingOff = ()=> {\n        SettingStore.dispatch({type:'removeLoading', id: this.id});\n    }\n    fetchApi = async (cfg, callback)=>{\n        this.loadingOn();\n        const me = this;\n        fetch(cfg.url, {}).then((v)=> {\n            return v.json()\n        }).then((jsonData, err)=>{\n            if (jsonData.status === 200) {\n                me.loadingOff();\n                callback(jsonData.data);\n            } else {\n                me.loadingOff();\n            }\n        }).catch((error)=> {\n            me.loadingOff();\n          });;\n    }\n\n    updateSigninForm = (token, socketid, phone)=>{\n        SettingStore.dispatch({\n            type: 'updateSigninForm',\n            data : {\n                token: token,\n                phone : phone,\n                socketid : socketid\n            }\n        });\n    }\n\n\n     DatabaseApi = (apiCode, dt, callback)=>{\n        const me = this;\n        fetch(me.server + '/api/' + apiCode, {\n            method: 'POST',\n            body: JSON.stringify(dt),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(v=>v.json()).then((data)=> {\n            callback(data);\n        }).catch((err) => {\n            callback(err);\n        });\n     }\n\n}\n\nexport default Engine;","import { SettingStore, DataStore } from '../../stores';\n// -- https://github.com/fingerprintjs/fingerprintjs\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nclass FingerPrinter {\n    constructor(prop) {\n        this.visitorId = null;\n    }\n    load = async () => {\n        // Get the visitor identifier when you need it.\n        const fpPromise = FingerprintJS.load();\n        const fp = await fpPromise\n        const result = await fp.get()\n        \n        // This is the visitor identifier:\n        this.visitorId = result.visitorId\n        return this.visitorId;\n        console.log('a->', this.visitorId)\n    }\n}\n\nexport default FingerPrinter;","import React , { useState, useEffect } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport parser from 'parse-address-string';\n\nfunction AddressInput(props) {\n  const [inputAddress, setInputAddress] = useState(props.defaultValue);\n  const [validAddress, setValidAddress] = useState({});\n  const [isValid, setIsValid] = useState(false);\n  const [focused, setFocused] = useState(false);\n\n  const onAddressChange = (e)=> {\n    e.target.value = e.target.value\n    verifyAddress(e.target.value);\n  }\n  const onAddressBlur = (e)=> {\n    setFocused(false);\n    if (isValid) {\n      e.target.value=formatedAddress(validAddress);\n    } else {\n      e.target.value = '';\n    }\n    setInputAddress(formatedAddress(validAddress));\n  }\n  const capitalize = (str) => {\n    return !str? '' : str.charAt(0).toUpperCase() + str.slice(1)\n  }\n  const upcase = (str) => {\n    return !str? '' : str.toUpperCase()\n  }\n\n  const formatedAddress = (o) =>{\n    return (capitalize(o.street_address1)  +  ',' + capitalize(o.city) +  ',' + upcase(o.state) + ' ' + upcase(o.postal_code) +\n    upcase((o.country === 'USA') ? '' : o.country)).replace(/\\s+/ig, \" \");\n  }\n  const verifyAddress = (inputAddress)=> {\n    parser(inputAddress, function(err,o){\n      o.country = (!o.country) ? 'USA' : o.country;\n      setValidAddress(o)\n      if (!!o.street_address1 && !!o.city && !!o.postal_code && !!o.state && !err) {\n        props.passAddress(formatedAddress(o));\n        setIsValid(true);\n      } else {\n        props.passAddress('');\n        setIsValid(false);\n      }\n    })\n    return true;\n}\n  useEffect(()=> {\n   }, []);\n   return   (<Form.Group>\n      <Form.Control defaultValue={inputAddress} required placeholder=\"Input Your address\" as=\"textarea\" \n        rows=\"1\"\n        onChange={onAddressChange} \n        onFocus={()=>{ setFocused(true)}}\n        onBlur={onAddressBlur}\n        />\n      {(focused) && (<Form.Text className=\"p-3 mt-1 alert-secondary\">\n        <Row>\n          <Col sx={6} className=\"p-0 pl-2\">\n            Street Address: <b>{validAddress.street_address1}</b><br/>\n            City: <b>{validAddress.city}</b><br/>\n            {(isValid) ? (<span className=\"text-success\">Correct Format.</span>) : (<span  className=\"text-info\">Parsing ...</span>)}\n          </Col>\n          <Col sx={6}  className=\"p-0 pl-2\">\n            State: <b>{validAddress.state}</b><br/>\n            Postal: <b>{validAddress.postal_code}</b><br/>\n            Country: <b>{validAddress.country}</b><br/>\n          </Col>\n        </Row>  \n      </Form.Text>)}\n    </Form.Group>);\n}\n\nexport { AddressInput }","import React from 'react';\nimport { Navbar, Container } from 'react-bootstrap';\nimport { Logo } from '../common';\nfunction InfoHeader(props) {\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\">\n            <Navbar.Brand href=\"/\" ><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu-color\">\n              {props.comp}\n            </Navbar.Brand>\n        </Navbar>\n      </Container>\n    </Container>\n  )\n}\nexport { InfoHeader };\n","import React from 'react';\nfunction Logo() {\n  return (\n    <div className=\"border rounded p-1 m-0\" style={{color:'yellow', fontSize:'1.5rem'}}>\n    菜譜<span className=\"ml-1\" style={{fontSize:'1rem'}}>SupportCenter</span>\n    </div>\n  )\n}\nexport { Logo };\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQrcode, faUnlockAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport { SettingStore } from '../../stores';\n\nfunction AuthHeadItem(props) {\n    const [isAuth, setIsAuth ] = useState(false);\n    const authProcess = () => {\n      SettingStore.dispatch({\n        type: 'signOff'\n     });\n    }\n    useEffect(() => {\n        const handleSubscribe = SettingStore.subscribe(() => {\n          if (SettingStore.getState()._watcher === 'auth') {\n            setIsAuth(SettingStore.getState().data.auth);\n          }\n          return false;\n        });\n        setIsAuth(SettingStore.getState().data.auth);\n        return ()=> {\n          handleSubscribe();\n      }\n      }, []);\n\n    return (<div className=\"rounded p-1 m-0\" style={{fontSize:'1.1rem'}}>\n        <span className=\"menu-color\"  onClick={authProcess}>\n        <FontAwesomeIcon size=\"1x\" icon={faUnlockAlt} className=\"mr-1\" /> Sign off\n        </span>\n    </div>)\n}\n\nexport { AuthHeadItem }","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert, Image} from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMobileAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Engine } from '../common';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode'\nimport socketClient  from 'socket.io-client';\n\nfunction SignInForm (props) {\n   const SOCKET_URL = SettingStore.getState().config.sockerServer;\n   const WEBSERVER_URL = SettingStore.getState().config.webServer;\n   const engine = new Engine();\n\n   const [phone, setPhone] = useState('');\n   const [token, setToken] = useState('');\n   const [socketId, setSocketId] =  useState('');\n   \n   const [validPhone, setValidPhone] = useState(false);\n   const [qr, setQr] =  useState('');\n  \n   const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n\n   let socket = null;\n   const onPhoneChanged = (e)=>{\n      if (patt.test(e.target.value)) {\n        e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n        setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n      } else {\n        setPhone('');\n      }\n    }\n   const isSubmit = ()=>{\n      return (!phone) ? false : true;\n   }\n\n   const submitPhone = ()=> {\n      engine.loadingOn();\n      engine.DatabaseApi('admin', {\n        action: 'checkPhone',\n        data: {\n          visitorId: SettingStore.getState().fp, \n          phone : phone.replace(patt, '$1$2$3')\n        }\n      }, (result)=>{\n        engine.loadingOff();\n        if (result.status === 'success') {\n            setValidPhone(patt.test(phone));\n            createSocket();\n        }\n      });\n   }\n   // --- will remove after server message settig --//\n\n   const processServerCode = (action, callback)=> {\n      engine.loadingOn();\n      engine.DatabaseApi('admin', {\n         action: (action === 'add') ? 'addSessionRecord' : \n            (action === 'delete') ? 'deleteSessionRecord' : '',\n         data: {\n            phone: phone.replace(patt, '$1$2$3'), \n            visitorId: SettingStore.getState().fp, \n            token : token,\n            socketid : socketId\n         }\n      }, (result)=>{\n         engine.loadingOff();\n         if (callback) callback(result);\n      });\n   }\n   const updateServerCode = (newsocketId, callback)=> {\n      engine.loadingOn();\n      engine.DatabaseApi('admin', {\n         action: 'updateSessionRecord',\n         data: {\n         phone: phone.replace(patt, '$1$2$3'), \n         visitorId: SettingStore.getState().fp, \n         token : token,\n         socketid : newsocketId\n         }\n      }, (result)=>{\n         engine.loadingOff();\n         if (callback) callback(result);\n      });\n   }\n   const saveAuthInfo = (data)=> {\n      const rec = {...data}\n      rec.signInTime = new Date().getTime();\n      console.log('afterTransfer,  rec->', rec);\n      SettingStore.dispatch({\n         type: 'saveAuthInfo',\n         authInfo: rec\n      });\n  }\n   const createSocket = (callback) => {\n      if (!phone) {\n         return true;\n      }\n      const socket = socketClient.connect(SOCKET_URL);\n      socket.on('connect', () => {\n         socket.on('afterTransfer', (fromSocket, body) =>{\n             //  console.log('afterTransfer, from->',fromSocket);\n             saveAuthInfo(body);\n             socket.disconnect();\n          });\n         const socket_id = socket.id.replace('/dishFu#', '');\n         if (!token) {\n            engine.updateSigninForm(socket_id, socket_id, phone);\n         } else {\n            engine.updateSigninForm(token, socket_id, phone);\n         }\n         \n      });\n      socket.on('disconnect', () => {\n         /*\n          setSocketId('');\n          createQR('');\n          setValidPhone(false);\n          */\n      });\n      return socket\n   }\n   const cleanToken = ()=> {\n      processServerCode('delete', ()=>{\n         engine.updateSigninForm('', '', '');\n      });\n   }\n   const loadValue = ()=> {\n      const st = SettingStore.getState().data.signinForm;\n         setPhone(!st ? '' : st.phone);\n         setSocketId(!st ? '' : st.socketid);\n         setValidPhone(patt.test(st.phone));\n         setToken(!st ? '' : st.token);\n   }\n   const purePhone = (phone)=> {\n      return (!phone ? '' : phone).replace(patt, '$1$2$3');\n   }\n   useEffect(()=> {\n      loadValue();\n      const handleSubscribe = SettingStore.subscribe(() => {\n         if (SettingStore.getState()._watcher === 'auth') {\n            loadValue();\n         }\n         if (SettingStore.getState()._watcher === 'auth') {\n          }\n         return false;\n      }); \n     return ()=> {\n         handleSubscribe();\n     }\n    }, [])\n\n    const createQR = (token, phone) => {\n      if (!phone) {\n         setQr('');\n      } else {\n      QRCode.toDataURL(WEBSERVER_URL + '/crossFromMobile/' + purePhone(phone) + '/' + token,\n          { \n              width:338,\n              type: 'image/png',\n              quality: 1.0,\n              color: {\n                  dark: '#000000',  \n                  light: '#0000'\n              }\n          }, (err, str)=>{\n              setQr(str)\n          });\n      }\n   }\n    useEffect(()=> {\n      if(token) {\n         createSocket();\n         if (token === socketId) {\n            console.log('add once===============>');\n            processServerCode('add', ()=>{\n               console.log('after add ===============>', token);\n               createQR(token, phone);\n            });\n         } else {\n            createQR(token, phone);\n         }\n      }\n    }, [token])\n\n    useEffect(()=> {\n      if(socketId) {\n         updateServerCode(socketId);\n      }\n    }, [socketId])\n\n   const phoneForm = (<span>\n      <Form.Group>\n       <Form.Label>Signin with your smart phone</Form.Label>\n       <Form.Control defaultValue={phone} placeholder=\"(xxx)xxx-xxxx\" type=\"text\" style={{fontSize:'2rem'}}\n         onChange={onPhoneChanged} />\n     </Form.Group>\n     <Form.Group>\n         <Form.Label>\n         <Button className=\"btn btn-warning m-0 mr-3\" disabled={!isSubmit()}  onClick={submitPhone}>\n            <FontAwesomeIcon size=\"1x\" icon={faMobileAlt} className=\"m-0\" /> Submit\n         </Button>\n         </Form.Label>\n      </Form.Group></span>);\n\n   const QRSection = (<Alert variant=\"secondary\">\n      <Alert.Heading className=\"p-3\">Request submitted! What's the next step?</Alert.Heading>\n      <ol>\n         <li>The phone {phone} will receive a text message with an authentication link.</li>\n         <li>Click confirmed the link of the txt mesage.</li>\n         <li>Last step, to use the phone scan this QR code. The computer client with grant an admin permission.</li>\n         </ol>\n         <Container fluid={true}>\n            {WEBSERVER_URL + '/crossFromMobile/' +  purePhone(phone) + '/' + token}\n            <br/>\n            <Image src={qr} className=\"border border-primary\"/>\n         </Container>\n         <Container fluid={true} className=\"p-3\">\n            <h3>OR </h3>\n         </Container>\n         <Button className=\"btn btn-warning m-1 mr-3\" onClick={cleanToken}>\n            <FontAwesomeIcon size=\"1x\" icon={faMobileAlt} className=\"mr-2\" />Reset\n         </Button>\n      </Alert>)\n\n   return (<Container fluid={true} className=\"p-3 content-body\">\n      \n      <Form className=\"p-3\">\n         {(!validPhone) && phoneForm}\n         {(validPhone) && QRSection}\n      </Form>\n      socketId:{socketId}\n      <hr/>\n      token:{token}\n   </Container>)\n}\nexport { SignInForm }","import React , { useEffect, useState } from 'react';\nimport {useParams } from \"react-router-dom\";\nimport { Container, Alert, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\n\nfunction AdminAuth(props) {\n  const engine = new Engine();\n  const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n\n  const [isContinue, setIsContinue ] = useState(true);\n  const [success, setSuccess ] = useState(false);\n  const token = useParams().token;\n  const authcode = useParams().authcode;\n  const [isAuth, setIsAuth] = useState(SettingStore.getState().data.auth);\n  const [authInfo, setAuthInfo ] = useState(false); \n  const permit = ()=> {\n    SettingStore.dispatch({\n      type: 'saveAuthAdmin',\n      authInfo: authInfo\n    });\n    \n  }\n  useEffect(() => {\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n      action: 'checkTokenAuthCode',\n      data: {\n        token: token, \n        authcode : authcode\n      }\n    }, (result)=>{\n      engine.loadingOff();\n      if (result.status !== 'success') {\n        setIsAuth(false);\n      } else {\n        setIsAuth(true);\n        SettingStore.dispatch({\n          type: 'saveAuthInfo',\n          authInfo: result.data[0]\n        });\n        setAuthInfo(result.data[0]);\n      }\n    });\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'saveAuthAdmin') {\n        if (!!SettingStore.getState().data.authInfo && SettingStore.getState().data.authInfo.authcode === authcode) {\n          setSuccess(true);\n        }\n      }\n      return false;\n   }); \n  return ()=> {\n      handleSubscribe();\n  }\n\n  }, []);\n\nconst existAuthInfo = () => {\n  const info = SettingStore.getState().data.authInfo;\n  return (!!info) && (<Container fluid={true} className=\"alert-secondary p-3 m-1\">\n    Current authentication information on this equipment is:<br/>\n    Phone: <b>{(!info.phone ? '' : info.phone).replace(patt, '($1)$2-$3')}</b><br/>\n    Authrized Time: <b>{info.created}</b><br/>\n</Container>)\n}\nconst newAuthInfo = () => {\n  const info = authInfo;\n  return (!!info) && (<Container fluid={true} className=\"alert-info p-3 m-1\">\n  Will set this equipment to:<br/>\n  Phone: <b>{info.phone.replace(patt, '($1)$2-$3')}</b><br/>\n    Authrized Time: <b>{info.created}</b><br/>\n</Container>)\n}\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={'Auth with Mobile'}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant}>\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\nconst warningPage = (<Frame title=\"To confirm:\" \n  body={(<Container fluid={true}>\n    {existAuthInfo()}\n    {newAuthInfo()}\n    <Button onClick={permit} className=\"m-2\">\n        Continue Anyway\n    </Button>\n    <Button onClick={ ()=> { setIsContinue(false)} } variant=\"danger\" className=\"m-2\">\n        Stop\n    </Button> \n  </Container>\n  )} />);\n  \n  const unAuthentication = (<Frame title=\"Warning!\" body=\"The authentication link fail to process!\" variant=\"danger m-3 p-3\" />);  \n  const successPage = (<Frame title=\"Succeess!\" body=\"The mobile authentication completed! You can use this equipment for desktop admin application.\" />);  \n  const stopContinuePage = (<Frame title=\"Stop!\" body=\"No worry. The mobile authentication is not going through!\" />);\n  \n  return  ((!isAuth) ? unAuthentication : (!isContinue) ? stopContinuePage : (success) ? successPage : warningPage)\n  ;\n}\nexport { AdminAuth };","import React , { useEffect, useState } from 'react';\nimport {useParams } from \"react-router-dom\";\nimport { Container, Alert, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\nimport socketClient  from 'socket.io-client';\n\nfunction CrossFromMobile(props) {\n  const engine = new Engine();\n  const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n  const SOCKET_URL = SettingStore.getState().config.sockerServer;\n  \n  const [isContinue, setIsContinue ] = useState(true);\n  const [success, setSuccess ] = useState(false);\n  const params = useParams();\n  const targetToken = useParams().token;\n  const targetPhone = useParams().phone;\n\n  const [targetSocket, setTargetSocket] = useState('');\n  const [isAuth, setIsAuth] = useState('');\n  const permit = ()=> {\n    console.log('======permit====>' + targetSocket)\n    const socket = socketClient.connect(SOCKET_URL);\n    socket.on('connect', function(){\n        socket.emit(\"transfer\",targetSocket, socket.id, \n        SettingStore.getState().data.authInfo);\n        socket.disconnect();\n        setSuccess(true);\n    });\n  }\n  const getTargetSocket = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n      action: 'getTargetSocket',\n      data: {\n        token: targetToken, \n        phone : targetPhone\n      }\n    }, (result)=>{\n      const socketid = !result.data || !result.data[0] ? '' : result.data[0].socketid;\n      if (result.status === 'success' && !!socketid) {\n        setTargetSocket(socketid)\n      } \n    });\n  }\n  const purePhone = (phone)=> {\n    return (!phone ? '' : phone).replace(patt, '$1$2$3');\n }\n\n  useEffect(() => {\n    getTargetSocket();\n    const info = SettingStore.getState().data.authInfo;\n    console.log('---info--->', info, params);\n    // if (info.token != token) {\n      engine.loadingOn();\n      engine.DatabaseApi('admin', {\n        action: 'checkTokenAuthCode',\n        data: {\n          token: info.token, \n          authcode : info.authcode\n        }\n      }, (result)=>{\n        console.log('---result-->', result);\n        engine.loadingOff();\n        if (result.status !== 'success') {\n          setIsAuth(false);\n        } else {\n          setIsAuth(true);\n        }\n      });\n   //  }\n\n  }, []);\n\n  useEffect(() => {\n    if (targetSocket) {\n    //  permit();\n    }\n  }, [targetSocket]);\n\nconst  fmtPhone = (phone)=> {\n  return (!phone ? '' : phone).replace(patt, '($1)$2-$3')\n}\n\nconst existAuthInfo = () => {\n  const info = SettingStore.getState().data.authInfo;\n  return (!!info) && (<Container fluid={true} className=\"alert-secondary p-3 m-1\">\n    Current authentication information on this equipment is:<br/>\n    Phone: <b>{fmtPhone(info.phone)}</b><br/>\n    Authrized Time: <b>{info.created}</b><br/>\n</Container>)\n}\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={'Auth with Mobile'}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant}>\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\nconst warningPage = (targetSocket) && (<Frame title=\"To confirm:\" \n  body={(<Container fluid={true}>\n    {existAuthInfo()}\n    <Button onClick={permit} className=\"m-2\">\n        Authorize the desktop\n    </Button>\n    <Button onClick={ ()=> { setIsContinue(false)} } variant=\"danger\" className=\"m-2\">\n        Stop\n    </Button> \n  </Container>\n  )} />);\n  \n  const unAuthentication = (<Frame title=\"Warning!\" body=\"The fail to process the QR!\" variant=\"danger m-3 p-3\" />);  \n  const successPage = (<Frame title=\"Succeess!\" body=\"The mobile authentication completed! You can use this equipment for desktop admin application.\" />);  \n  const stopContinuePage = (<Frame title=\"Stop!\" body=\"No worry. The mobile authentication is not going through!\" />);\n  \n  return  ((!isAuth) ? unAuthentication : (!isContinue) ? stopContinuePage : (success) ? successPage : warningPage)\n  ;\n}\nexport { CrossFromMobile };","\nimport React, {useEffect, useState} from 'react';\nimport { Nav, /* NavDropdown, */ Navbar, Container, Badge } from 'react-bootstrap';\nimport { Link, useLocation  } from \"react-router-dom\";\nimport { RoleSection } from './common';\nimport { AuthHeadItem  }  from './mobileAuth';\nimport { Logo } from './common';\n\nfunction Header(props) {\nconst [expanded, setExpanded] = useState(\"\")\n\n  const navItem = {\n    authUsers:  {caption: 'User Admin', role: ['all'], linkTo: '/authUsers'},\n    transTracking:  {caption: 'Transaction Report', role: ['all'], linkTo: '/transReport'}\n  };\n  const SelectedClass = (v)=> {\n    const location = useLocation(); \n    return (location.pathname !== navItem[v].linkTo) ? 'menu-color' : 'menu-color-select';\n  }\n  const getNavLink = (v)=> {\n    const item = !navItem[v] ? {role: []} : navItem[v],\n          itemRole = (!item || !item.role) ? [] : item.role,\n          itemExRole = (!item || !item.exrole) ? [] : item.exrole;\n    const comp = ((item)=>(<Nav.Link as={Link} to={item.linkTo} className={SelectedClass(v)}\n        onClick={()=> {  setExpanded(false); }}>{item.caption}</Nav.Link>))(item);\n\n    return (<RoleSection roles={itemRole} comp={comp} exroles={itemExRole}  />);\n  }\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\" expanded={expanded}>\n            <Navbar.Brand as={Link} to=\"/\" className=\"menu_color\"><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu_color\">\n              <AuthHeadItem />\n            </Navbar.Brand>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"me-auto\">\n                {getNavLink('authUsers')}\n                {getNavLink('transTracking')}\n              </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n      </Container>\n    </Container>\n  );\n}\n\nexport default Header;\n","import { Container } from 'react-bootstrap';\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction Footer() {\n  const Year = new Date().getFullYear();\n  return (\n    <Container fluid={true} className=\"footer\">\n        <div className=\"float-left alert-secondary footer-tag\">\n          &copy; {Year} Dishfu &nbsp;\n          &nbsp;<Link to=\"/privacy\">Privacy</Link>\n          &nbsp;|&nbsp;<Link to=\"/terms\">Term</Link>\n        </div>\n        <div className=\"clearfix p-0 m-0\"></div>\n    </Container>\n    \n  );\n}\nexport default Footer;\n","import React , { useEffect, useState } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { Engine } from '../common';\n\nfunction Home(props) {\n  const engine = new Engine();\n  useEffect(() => {\n\n  }, []);\n  return (\n    <Container fluid={true} className=\"p-0 m-0 content-body\">\n      <Container fluid={true} className=\"p-0 m-0 content-body\">\n        <Container className=\"alert-light text-secondary p-3\">\n            Nothing to address\n        </Container>\n      </Container>\n    </Container>\n  );\n}\nexport default Home;\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction UsersList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'foodie', \n        visitorId: SettingStore.getState().fp, \n        address:address,\n        phone : phone,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  const isSubmit = () => {\n    return (!address) ? false : true;\n  }\n\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n      <Alert variant=\"success mt-3\">\n        <Alert.Heading>You application submitted!</Alert.Heading>\n          <span>\n            You might become a foodie automatically upon our AI valification. or you will be contacted sooner. \n          </span>\n        </Alert>\n    </Container>);\n\n  const inputForm = () => (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Foodie role:</Alert.Heading>\n        <ul>\n          <li>You can be a housewife who wants to share her cooking hobby with neighbours, \n            while making a side income. Foodie can be a restaurant owner, to extend their business objectives. </li>\n          <li>You needs to provide a real address (not PO box), can create receipts, and contact supplies. </li>\n          <li>You drives the following workflow: create receipt -> contact supplier and confirm the plate -> \n            publish the plate to “menu”</li>\n          <li>You authentication requires a barcode provided by DishFoo via mail. \n            Once the barcode is scanned, then Foodie can publish the plate to the menu.</li>\n        </ul>\n      </Alert>\n      <Form>\n      <Form.Group>\n          <Form.Label><b>Foodie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">(Option)</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()}  onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faSearch} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n   return (!success) ? inputForm() : successForm();\n}\n\nexport { UsersList }","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons';\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction ApplicationsList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'supie', \n        visitorId: SettingStore.getState().fp, \n        address:address, \n        phone : phone,\n        qualification: qualification,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onQualificationChanged = (e)=> {\n    setQualification(e.target.value);\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n\n  const isSubmit = () => {\n    return (!phone || !address || !qualification) ? false : true;\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n    <Alert variant=\"success mt-3\">\n      <Alert.Heading>You application submitted!</Alert.Heading>\n        <span>\n          You might become a supie automatically upon our AI valification. or you will be contacted sooner. \n        </span>\n      </Alert>\n    </Container>);\n/*\n  const errorBox = () => {\n    const title = (<span className=\"text-success\">You application submitted! </span>)\n    const message = (<span className=\"text-success\">\n    You might become a supie automatically upon our AI valification. or you will be contacted sooner. </span>)\n    return (<alert message={message} title={title} className=\"mt-3\"/>)\n  }\n*/\n  const inputForm = ()=> (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Supie role</Alert.Heading>\n        <ul>\n          <li>You can be grocery stores, farms or restaurants.</li>\n          <li>You can make plate based on receipt and send back to Foodie for validation.</li>\n          <li> You needs to provide a real address (not PD box), can view the receipts from Foodie.</li>\n        </ul>\n      </Alert>\n\n      <Form>\n        <Form.Group>\n          <Form.Label><b>Supie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Your Qualification:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={qualification} placeholder=\"Input Qualification\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onQualificationChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()} onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faCloudUploadAlt} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n\n   return (!success) ? inputForm() : successForm()\n}\n\nexport { ApplicationsList }","import React , { useState, useEffect } from 'react';\nimport { Container, Image, Alert, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode';\n\nfunction TransSocketSync (props) {\n  const [qr, setQr] = useState('');\n  const [sockedId, setSockedId] =  useState('');\n  const [url, setUrl] =  useState('');\n  \n  useEffect(()=> {\n    console.log('SettingStore==>>>>', SettingStore.getState().data);\n  }, [])\n  useEffect(()=> {\n    if (sockedId) {\n        const linkUrl = SettingStore.getState().config.webServer  + '/MobileAuth/' + sockedId;\n        setUrl(linkUrl);\n        QRCode.toDataURL(linkUrl,\n        { \n            width:338,\n            type: 'image/png',\n            quality: 1.0,\n            color: {\n                dark: '#000000',  \n                light: '#0000'\n            }\n        }, (err, str)=>{\n            setQr(str)\n        });\n    }\n}, [sockedId]);\n  return  (<Container className=\"content-body mt-3\">\n   Nothing\n  </Container>);\n}\nexport {TransSocketSync  }","import React , { useState, useEffect } from 'react';\nimport { Container, } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { TransSocketSync } from '../transReport';\n\nfunction TransDocument (props) {\n   return (<Container>\n      <TransSocketSync/>\n   </Container>)\n}\nexport { TransDocument }","import React , { useEffect } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from 'react-bootstrap';\n\nimport { Home } from \"./content\";\nimport { ApplicationsList, UsersList } from \"./authUsersAdmin\";\nimport { TransDocument } from \"./transReport\";\n\nfunction Body(props) {\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container fluid={true} className=\"m-0 p-0\">\n        <Switch>\n          <Route  exact path=\"/\">\n            <Home/>\n          </Route>\n          <Route  exact path=\"/authUsers\">\n            <ApplicationsList/>\n          </Route>\n          <Route  exact path=\"/authUsers/:uid\">\n            <UsersList/>\n          </Route>\n          <Route  exact path=\"/transReport\">\n            <TransDocument/>\n          </Route>\n        </Switch>\n    </Container>\n   \n  );\n}\n\nexport default Body;\n","import React , { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport  Header  from './modules/Header';\nimport  Footer  from './modules/Footer';\nimport  Body from './modules/Body';\nimport { Spinner, Container  } from 'react-bootstrap';\nimport './App.css';\nimport { useMediaQuery } from 'react-responsive';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { SettingStore } from './stores/';\nimport { Loading, FingerPrinter, InfoHeader } from './modules/common';\nimport { SignInForm, AdminAuth, CrossFromMobile } from './modules/mobileAuth';\nimport { Engine } from './modules/common';\n\nconst App = (props) => {\n  const engine = new Engine();\n\n  const fp = new FingerPrinter();\n  const [loadReady, setloadReady] = useState(false);\n  const [isAuth, setIsAuth] = useState(false);\n\n  const screenModel = {\n    isDesktopOrLaptop : useMediaQuery({ query: '(min-width: 1224px)'}),\n    isBigScreen : useMediaQuery({ query: '(min-width: 1824px)' }),\n    isTabletOrMobile : useMediaQuery({ query: '(max-width: 1224px)' }),\n    isPortrait : useMediaQuery({ query: '(orientation: portrait)' }),\n    isRetina : useMediaQuery({ query: '(min-resolution: 2dppx)' })\n  };\n\n  const forceAuth = (callback)=> {\n    const info = SettingStore.getState().data.authInfo;\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n       action: 'checkTokenAuthCode',\n       data: {\n          token: info.token, \n          authcode : info.authcode\n       }\n    }, (result)=>{\n       engine.loadingOff();\n       setIsAuth((result.status === 'success') ? true : false);\n       if (callback) callback();\n    });\n }\n\n  useEffect(() => {\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'afterInit') {\n        forceAuth(()=> {\n          setloadReady(true);\n        });\n      }\n      if (SettingStore.getState()._watcher === 'forceAuth') {\n        forceAuth(); \n      }\n      return false;\n    }); \n\n    SettingStore.dispatch({ type: 'loadScreenModel',\n      screenModel: screenModel\n    });\n\n    return ()=> {\n      handleSubscribe();\n  }\n  }, []);\n  localStorage.clear(); //=====\n\n  const pageLoading = (<InfoHeader comp={(<Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>)} />);  \n  const headNotAuth = (<InfoHeader comp={(<span size=\"lg\"><b>Admin Sign in</b></span>)} />);  \n  const pageReady = (\n      <Router className=\"p-0 m-0\">\n        <Switch>\n          <Route exact path=\"/CrossFromMobile/:phone/:token\">\n            <CrossFromMobile/>\n          </Route>\n          <Route exact path=\"/adminAuth/:token/:authcode\">\n            <AdminAuth/>\n          </Route>\n          <Route>\n            {(!!isAuth) ? (<Header/>) : headNotAuth}\n            <Loading/>\n            {(!isAuth) ? (<Container className=\"p-3\"><SignInForm/></Container>) : (<Body/>)}\n            <Footer/>\n          </Route>\n        </Switch>\n      </Router>)\n\n    return (!loadReady) ? pageLoading : pageReady;\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument._cacheExist = true;\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}