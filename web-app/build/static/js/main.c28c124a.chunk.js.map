{"version":3,"sources":["modules/mobileComps/BarcodeScannerComponent.js","modules/common/IpfsDoc.js","modules/common/Messagebox.js","stores/SettingStore.js","modules/common/RoleSection.js","modules/common/Loading.js","modules/common/Engine.js","modules/common/FingerPrinter.js","modules/common/AddressInput.js","modules/common/InfoHeader.js","modules/common/Logo.js","modules/mobileAuth/AuthHeadItem.js","modules/mobileAuth/clientForm.js","modules/mobileAuth/crossFromMobile.js","modules/mobileAuth/successInfo.js","modules/mobileAuth/linkFromMobile.js","modules/Header.js","modules/Footer.js","modules/content/Home.js","modules/authUsersAdmin/usersList.js","modules/authUsersAdmin/applicationsList.js","modules/transReport/trsnsSocketSync.js","modules/transReport/transDocument.js","modules/Body.js","modules/mobileComps/threeStamps.js","App.js","reportWebVitals.js","index.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","react_1","require","library_1","react_webcam_1","default","width","height","onUpdate","webcamRef","useRef","codeReader","BrowserMultiFormatReader","capture","useCallback","_a","imageSrc","current","getScreenshot","decodeFromImage","undefined","then","result","catch","err","useEffect","setInterval","createElement","ref","screenshotFormat","videoConstraints","facingMode","IpfsDoc","Mssagebox","message","title","className","Container","style","textTransform","console","log","window","location","hostname","_defaultSetting","ready","loading","screenModel","_watcher","fp","data","isAuth","authInfo","config","host","protocol","test","apiServer","webServer","sockerServer","ipfsServer","routeService","getConfig","SettingStore","createStore","state","action","type","signinForm","saveSettingApi","id","Date","getTime","composeWithDevTools","setTimeout","localStorage","setItem","JSON","stringify","callback","a","FingerprintJS","load","get","visitorId","storageName","v","getItem","parse","e","loadSettingApi","dispatch","RoleSection","roles","exroles","comp","showException","useState","myRoles","setMyRoles","Exroles","isection","filter","x","includes","exsection","loadMyRoles","getState","handleSubscribe","subscribe","compException","Messagebox","length","Loading","sts","setSts","keys","Spinner","animation","size","Engine","prop","loadingOn","loadingOff","fetchApi","cfg","me","fetch","url","json","jsonData","status","error","updateSigninForm","token","socketid","phone","DatabaseApi","apiCode","dt","server","method","body","headers","defaultData","recipes","plates","orders","menus","focuses","FingerPrinter","fpPromise","AddressInput","props","defaultValue","inputAddress","setInputAddress","validAddress","setValidAddress","isValid","setIsValid","focused","setFocused","capitalize","str","charAt","toUpperCase","slice","upcase","formatedAddress","o","street_address1","city","postal_code","country","replace","verifyAddress","parser","passAddress","Form","Group","Control","required","placeholder","as","rows","onChange","target","onFocus","onBlur","Text","Row","Col","sx","InfoHeader","fluid","Navbar","expand","Brand","href","Logo","color","fontSize","AuthHeadItem","setIsAuth","auth","onClick","icon","faUnlockAlt","ClientForm","SOCKET_URL","WEBSERVER_URL","linkURL","setLinkURL","qr","setQr","socket","socketClient","connect","on","socket_id","fromSocket","disconnect","createSocket","createQR","QRCode","toDataURL","quality","dark","light","Alert","variant","Heading","Image","src","CrossFromMobile","history","useHistory","engine","patt","setPhone","errorMessage","setErrorMessage","params","useParams","Frame","info","warningPage","Button","emit","push","phoneForm","Label","SuccessInfo","code","header","authedPage","faUserCheck","nonAuthedPage","faUserTimes","LinkFromMobile","isContinue","setIsContinue","recid","confirmPage","errorPage","Header","expanded","setExpanded","navItem","authUsers","caption","role","linkTo","transTracking","SelectedClass","useLocation","pathname","getNavLink","item","itemRole","itemExRole","exrole","Nav","Link","to","Collapse","Footer","Year","getFullYear","Home","UsersList","address","setAddress","description","setDescription","success","setSuccess","submitApplication","onDescriptionChanged","onPhoneChanged","disabled","faSearch","ApplicationsList","qualification","setQualification","onQualificationChanged","faCloudUploadAlt","TransSocketSync","sockedId","setUrl","linkUrl","TransDocument","Body","exact","path","ThreeStamps","React","setData","text","App","loadReady","setloadReady","isDesktopOrLaptop","useMediaQuery","query","isBigScreen","isTabletOrMobile","isPortrait","isRetina","forceAuth","authcode","pageLoading","headNotAuth","pageReady","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","document","_cacheExist","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c28c124a.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst library_1 = require(\"@zxing/library\");\nconst react_webcam_1 = __importDefault(require(\"react-webcam\"));\nconst BarcodeScannerComponent = ({ width, height, onUpdate }) => {\n    const webcamRef = react_1.default.useRef(null);\n    const codeReader = new library_1.BrowserMultiFormatReader();\n    const capture = react_1.default.useCallback(() => {\n        var _a;\n        const imageSrc = (_a = webcamRef === null || webcamRef === void 0 ? void 0 : webcamRef.current) === null || _a === void 0 ? void 0 : _a.getScreenshot();\n        if (imageSrc) {\n            codeReader.decodeFromImage(undefined, imageSrc).then(result => {\n                onUpdate(null, result);\n            }).catch((err) => {\n                onUpdate(err);\n            });\n        }\n    }, [codeReader, onUpdate]);\n    react_1.default.useEffect(() => {\n        setInterval(capture, 100);\n    }, []);\n    return (react_1.default.createElement(react_webcam_1.default, { width: width, height: height, ref: webcamRef, screenshotFormat: \"image/png\", videoConstraints: {\n            facingMode: 'environment'\n        } }));\n};\nexports.default = BarcodeScannerComponent;\n","import {useState, useEffect} from 'react';\nimport {  IPFSEngine } from '../common';\n\nfunction IpfsDoc(props) {\n  const [doc, setDoc] = useState(null);\n  const ipfsEngine = new IPFSEngine();\n  // const [tm, setTm] = useState(0);\n  const tpl = props.tpl;\n  useEffect(()=> {\n    (async ()=> {\n      const x = await ipfsEngine.promiseIpfsJSON(props.ipfs)\n      // const x = await loadIpfs();\n      setDoc(x);\n      // setTm(new Date().getTime());\n    })();\n  }, []);\n  return (!doc)? props.ipfs : tpl({record:doc, className: props.className, style:props.style})\n}\nexport default IpfsDoc;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\n\nconst Mssagebox = ({ message, title, className }) => {\n  return (<Container className={className + ' rounded p-3 message-box grid-bg'}>\n      <b style={{textTransform: 'capitalize'}}>{title}</b>\n      <h3 className=\"text-secondary m-3 p-3\">{message}</h3>\n    </Container>);\n};\nexport default Mssagebox;\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nconst getConfig = ()=> {\n    const ipPatt = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n    const host  = window.location.hostname;\n    const protocol = window.location.protocol\n    return (host === 'localhost' || ipPatt.test(host)) ? {\n      apiServer     : protocol + '//' + host + ':3001/api',\n      webServer     : protocol + '//' + host + ':3006',\n      sockerServer  : protocol + '//' + host + ':3001/dishFu',\n      ipfsServer    : protocol + '//gateway.ipfs.io/ipfs/',\n      routeService  : 'https://dishFu.com/_service_/'\n    } :  {\n      apiServer     : protocol + '//' + host + '/api',\n      webServer     : protocol + '//' + host + '',\n      sockerServer  : protocol + '//' + host + '/dishFu',\n      ipfsServer    : protocol +  '//gateway.ipfs.io/ipfs/',\n      routeService  : 'https://dishFu.com/_service_/'\n    }\n}\nconsole.log('window.location.hostname-->', window.location.hostname);\n\nconst _defaultSetting = {ready: false, loading: {}, screenModel:{}, _watcher:'',\n      fp : '',\n      data : { isAuth: false, authInfo: {}},\n      config:getConfig()\n  };\n\nconst reducer = (state = _defaultSetting, action) => {\n  state._watcher = '';\n  switch(action.type) {\n    case 'updateSigninForm':\n      state.data.signinForm = action.data;\n      state._watcher = 'auth';\n      saveSettingApi(state.data);\n      return state;\n    case 'saveAuthInfo':\n      state.data.authInfo = action.authInfo;\n      state.data.isAuth = true;\n      state._watcher = 'forceAuth';\n      saveSettingApi(state.data);\n      \n      return state;\n\n    case 'signOff':\n      state.data.authInfo = {};\n      state.data.isAuth = false;\n      state._watcher = 'forceAuth';\n      saveSettingApi(state.data);\n      return state;\n \n    /* --- None api action  --> */\n    case 'loadScreenModel':\n      state.screenModel = action.screenModel;\n      return state;\n\n    case 'addLoading':\n      state._watcher = 'loading';\n      state.loading[action.id] = new Date().getTime();\n      return state;\n    case 'removeLoading':\n      state._watcher = 'loading';\n      delete state.loading[action.id];\n      return state;\n\n    case 'initStore':\n      state.data = action.data;\n      state.fp = action.fp;\n      state._watcher = 'afterInit';\n      return state;\n\n    default:\n      return state;\n  }\n};\nconst SettingStore = createStore(reducer, composeWithDevTools());\n\n/* --- simulated api ----> */\n\nconst loadSettingApi = async (callback) =>{\n  const fpPromise = FingerprintJS.load();\n  fpPromise.then(fp => fp.get())\n  .then(result => {\n    // This is the visitor identifier:\n    const visitorId = result.visitorId\n    const storageName = 'localSettingData';\n    let v = _defaultSetting.data;\n    try {\n      v = (!localStorage.getItem(storageName)) ? _defaultSetting.data : JSON.parse(localStorage.getItem(storageName))\n    } catch(e) {}\n    if (typeof callback === 'function') {\n      callback(v, result.visitorId);\n    }\n  })\n}\nconst saveSettingApi = (data) =>{\n  setTimeout(\n    ()=>{\n      localStorage.setItem('localSettingData',  JSON.stringify(data));\n    }, 500\n  );\n}\n\n/* <--- simulated api */\nloadSettingApi((data, fp)=>{\n  SettingStore.dispatch({\n    type: 'initStore',\n    data : data,\n    fp : fp\n  });\n});\n\n\n\nexport default SettingStore;\n","import React, {useState, useEffect} from 'react';\nimport { SettingStore } from \"../../stores\";\nimport { Messagebox } from \"../common\";\n\nfunction RoleSection({roles, exroles, comp, showException}) {\n  const [myRoles, setMyRoles] = useState([]);\n  const Exroles = (!exroles) ? [] : exroles;\n  \n  const isection = roles.filter(x => [...myRoles, 'all'].includes(x));\n  const exsection  = Exroles.filter(x => [...myRoles].includes(x));\n  \n  const loadMyRoles = () => {\n    setMyRoles( (!SettingStore.getState().data.authInfo || !SettingStore.getState().data.authInfo.roles) ? \n      [] : SettingStore.getState().data.authInfo.roles\n    );\n  }\n  useEffect(()=> {\n    const handleSubscribe =  SettingStore.subscribe(() => {\n        if (SettingStore.getState()._watcher === 'role' || SettingStore.getState()._watcher === 'auth') {\n          loadMyRoles();\n        }\n    });\n    loadMyRoles();\n    return ()=> {\n      handleSubscribe();\n    }\n  }, []);\n\n  const compException = (<div className=\"p-3\"><Messagebox message=\"Missing required roles\" /></div>)\n  return  (!isection.length || !!exsection.length) ? ((!showException) ? '' : compException) : comp\n}\nexport default RoleSection;\n","import React, { useState, useEffect} from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { SettingStore } from '../../stores/';\n\nfunction Loading() {\n  const [ sts, setSts] = useState(0);\n\n  useEffect(()=>{\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'loading') {\n         setSts(Object.keys(SettingStore.getState().loading).length);\n      }\n    });\n    return ()=> {\n      handleSubscribe();\n    }\n\n  },[]);\n  \n  return (\n  <div className={(sts) ? 'loading' : 'no-loading'}>\n      <Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>\n  </div>\n  )\n}\nexport { Loading }\n","import { SettingStore } from '../../stores';\n\nclass Engine {\n    constructor(prop) {\n        this.id = new Date().getTime();\n        this.defaultData = {recipes:[], plates:[], orders:[], menus:[], focuses:[]};\n        this.server = SettingStore.getState().config.apiServer;\n    }\n    loadingOn = ()=> {\n        SettingStore.dispatch({type:'addLoading', id: this.id});\n    }\n    loadingOff = ()=> {\n        SettingStore.dispatch({type:'removeLoading', id: this.id});\n    }\n    fetchApi = async (cfg, callback)=>{\n        this.loadingOn();\n        const me = this;\n        fetch(cfg.url, {}).then((v)=> {\n            return v.json()\n        }).then((jsonData, err)=>{\n            if (jsonData.status === 200) {\n                me.loadingOff();\n                callback(jsonData.data);\n            } else {\n                me.loadingOff();\n            }\n        }).catch((error)=> {\n            me.loadingOff();\n          });;\n    }\n\n    updateSigninForm = (token, socketid, phone)=>{\n        SettingStore.dispatch({\n            type: 'updateSigninForm',\n            data : {\n                token: token,\n                phone : phone,\n                socketid : socketid\n            }\n        });\n    }\n\n\n     DatabaseApi = (apiCode, dt, callback)=>{\n        const me = this;\n        fetch(me.server + '/api/' + apiCode, {\n            method: 'POST',\n            body: JSON.stringify(dt),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(v=>v.json()).then((data)=> {\n            callback(data);\n        }).catch((err) => {\n            callback({status:'failure', message: err.message});\n        });\n     }\n\n}\n\nexport default Engine;","import { SettingStore, DataStore } from '../../stores';\n// -- https://github.com/fingerprintjs/fingerprintjs\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nclass FingerPrinter {\n    constructor(prop) {\n        this.visitorId = null;\n    }\n    load = async () => {\n        // Get the visitor identifier when you need it.\n        const fpPromise = FingerprintJS.load();\n        const fp = await fpPromise\n        const result = await fp.get()\n        \n        // This is the visitor identifier:\n        this.visitorId = result.visitorId\n        return this.visitorId;\n        console.log('a->', this.visitorId)\n    }\n}\n\nexport default FingerPrinter;","import React , { useState, useEffect } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport parser from 'parse-address-string';\n\nfunction AddressInput(props) {\n  const [inputAddress, setInputAddress] = useState(props.defaultValue);\n  const [validAddress, setValidAddress] = useState({});\n  const [isValid, setIsValid] = useState(false);\n  const [focused, setFocused] = useState(false);\n\n  const onAddressChange = (e)=> {\n    e.target.value = e.target.value\n    verifyAddress(e.target.value);\n  }\n  const onAddressBlur = (e)=> {\n    setFocused(false);\n    if (isValid) {\n      e.target.value=formatedAddress(validAddress);\n    } else {\n      e.target.value = '';\n    }\n    setInputAddress(formatedAddress(validAddress));\n  }\n  const capitalize = (str) => {\n    return !str? '' : str.charAt(0).toUpperCase() + str.slice(1)\n  }\n  const upcase = (str) => {\n    return !str? '' : str.toUpperCase()\n  }\n\n  const formatedAddress = (o) =>{\n    return (capitalize(o.street_address1)  +  ',' + capitalize(o.city) +  ',' + upcase(o.state) + ' ' + upcase(o.postal_code) +\n    upcase((o.country === 'USA') ? '' : o.country)).replace(/\\s+/ig, \" \");\n  }\n  const verifyAddress = (inputAddress)=> {\n    parser(inputAddress, function(err,o){\n      o.country = (!o.country) ? 'USA' : o.country;\n      setValidAddress(o)\n      if (!!o.street_address1 && !!o.city && !!o.postal_code && !!o.state && !err) {\n        props.passAddress(formatedAddress(o));\n        setIsValid(true);\n      } else {\n        props.passAddress('');\n        setIsValid(false);\n      }\n    })\n    return true;\n}\n  useEffect(()=> {\n   }, []);\n   return   (<Form.Group>\n      <Form.Control defaultValue={inputAddress} required placeholder=\"Input Your address\" as=\"textarea\" \n        rows=\"1\"\n        onChange={onAddressChange} \n        onFocus={()=>{ setFocused(true)}}\n        onBlur={onAddressBlur}\n        />\n      {(focused) && (<Form.Text className=\"p-3 mt-1 alert-secondary\">\n        <Row>\n          <Col sx={6} className=\"p-0 pl-2\">\n            Street Address: <b>{validAddress.street_address1}</b><br/>\n            City: <b>{validAddress.city}</b><br/>\n            {(isValid) ? (<span className=\"text-success\">Correct Format.</span>) : (<span  className=\"text-info\">Parsing ...</span>)}\n          </Col>\n          <Col sx={6}  className=\"p-0 pl-2\">\n            State: <b>{validAddress.state}</b><br/>\n            Postal: <b>{validAddress.postal_code}</b><br/>\n            Country: <b>{validAddress.country}</b><br/>\n          </Col>\n        </Row>  \n      </Form.Text>)}\n    </Form.Group>);\n}\n\nexport { AddressInput }","import React from 'react';\nimport { Navbar, Container } from 'react-bootstrap';\nimport { Logo } from '../common';\nfunction InfoHeader(props) {\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\">\n            <Navbar.Brand href=\"\" ><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu-color\">\n              {props.comp}\n            </Navbar.Brand>\n        </Navbar>\n      </Container>\n    </Container>\n  )\n}\nexport { InfoHeader };\n","import React from 'react';\nfunction Logo() {\n  return (\n    <div className=\"border rounded p-1 m-0\" style={{color:'yellow', fontSize:'1.5rem'}}>\n    菜譜<span className=\"ml-1\" style={{fontSize:'1rem'}}>SupportCenter</span>\n    </div>\n  )\n}\nexport { Logo };\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQrcode, faUnlockAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport { SettingStore } from '../../stores';\n\nfunction AuthHeadItem(props) {\n    const [isAuth, setIsAuth ] = useState(false);\n    const authProcess = () => {\n      SettingStore.dispatch({\n        type: 'signOff'\n     });\n    }\n    useEffect(() => {\n        const handleSubscribe = SettingStore.subscribe(() => {\n          if (SettingStore.getState()._watcher === 'auth') {\n            setIsAuth(SettingStore.getState().data.auth);\n          }\n          return false;\n        });\n        setIsAuth(SettingStore.getState().data.auth);\n        return ()=> {\n          handleSubscribe();\n      }\n      }, []);\n\n    return (<div className=\"rounded p-1 m-0\" style={{fontSize:'1.1rem'}}>\n        <span className=\"menu-color\"  onClick={authProcess}>\n        <FontAwesomeIcon size=\"1x\" icon={faUnlockAlt} className=\"mr-1\" /> Sign off\n        </span>\n    </div>)\n}\n\nexport { AuthHeadItem }","import React , { useState, useEffect } from 'react';\nimport { Container, Alert, Image} from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode'\nimport socketClient  from 'socket.io-client';\n\nfunction ClientForm (props) {\n   const SOCKET_URL = SettingStore.getState().config.sockerServer;\n   const WEBSERVER_URL = SettingStore.getState().config.webServer;\n   const [linkURL, setLinkURL] =  useState('');\n   const [qr, setQr] =  useState('');\n\n   const createSocket = (callback) => {\n      const socket = socketClient.connect(SOCKET_URL);\n      console.log('===SOCKET_URL===' + SOCKET_URL);\n      socket.on('connect', () => {\n\n         console.log('===socket-connected===' + socket.id);\n         const socket_id = socket.id.replace('/dishFu#', '');\n         socket.on('afterTransfer', (fromSocket, body) =>{\n            if (body.action === 'sendAuthInfo') {\n               SettingStore.dispatch({\n                  type: 'saveAuthInfo',\n                  authInfo: body.data\n               });\n               socket.disconnect();\n            }\n          });\n         if (callback) {\n            callback(socket_id);\n         }\n      });\n      socket.on('disconnect', () => {});\n      return socket\n   }\n   useEffect(()=> {\n      const socket = createSocket((socketid) => {\n         setLinkURL(WEBSERVER_URL + '/crossFromMobile/' + socketid);\n      });\n      return  () => {\n         socket.disconnect();\n         console.log('cleaned up ===  disconnexted === ');\n       };\n    }, [])\n\n    useEffect(()=> {\n      createQR();\n    }, [linkURL])\n\n    const createQR = () => {\n      QRCode.toDataURL(linkURL,\n         {   width:338, type: 'image/png', quality: 1.0,\n              color: {\n                  dark: '#000000', light: '#0000'\n              }\n          }, \n          (err, str)=> setQr(str)\n      );\n   }\n   return (<Alert variant=\"secondary\">\n               <Alert.Heading className=\"p-3\">Please scan the QR code to signin -- </Alert.Heading>\n               <Container fluid={true}>\n                  {linkURL}\n                  <br/>\n                  {(qr) && (<Image src={qr} className=\"border border-primary\"/>)}\n               </Container>\n            </Alert>)\n}\nexport { ClientForm }","import React , { useEffect, useState } from 'react';\nimport {useParams, useHistory } from \"react-router-dom\";\n\nimport { Container, Alert, Button, Form } from 'react-bootstrap';\n\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\nimport socketClient  from 'socket.io-client';\n\nfunction CrossFromMobile(props) {\n  const history = useHistory();\n\n  const engine = new Engine();\n  const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n  const SOCKET_URL = SettingStore.getState().config.sockerServer;\n  \n  const [isAuth, setIsAuth] = useState(props.isAuth);\n  const [phone, setPhone] = useState('');\n  const [errorMessage, setErrorMessage ] = useState('');\n\n  const params = useParams();\n  \n  const confirmedAuth = ()=> {\n    history.push('/SuccessInfo/crossFromMobile/success');\n  } \n  const stopAuth = ()=> {\n    history.push('/SuccessInfo/crossFromMobile/stop');\n  } \n\n  const removeAuth = () =>{\n    SettingStore.dispatch({\n      type: 'signOff',\n    });\n    history.push('/SuccessInfo/linkMobile/' + new  Date().getTime())\n  };\n\n  const permit = ()=> {\n    const socket = socketClient.connect(SOCKET_URL);\n    socket.on('connect', () => {\n      const socket_id = socket.id.replace('/dishFu#', '');\n      socket.emit(\"transfer\", params.token, socket_id, \n        { action: 'sendAuthInfo',\n          data : SettingStore.getState().data.authInfo\n        });\n      socket.disconnect();\n      confirmedAuth();\n    });\n    \n  }\n  useEffect(() => {\n    // permit();\n  }, []);\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={''}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant}>\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\n  const warningPage = (<Frame title=\"QR Code captured\" body={(<Container fluid={true}>\n    <Form.Text className=\"center text-secondary h5 p-0\">\n        Click the Yes button to authorize the desktop application from this phone.\n    </Form.Text>\n    <Button onClick={permit} style={{width:\"100%\"}} className=\"btn btton-warning\">\n        Yes, continue\n    </Button>\n    <Form.Text className=\"center text-secondary h5 p-1\">\n        If it is not your expectd process. please click stop button to skip that authentication process\n    </Form.Text>\n    <Button onClick={ stopAuth } style={{width:\"100%\"}} variant=\"danger\" className=\"m-2\">\n        Stop the authentication\n    </Button> \n\n    <Form.Text className=\"center text-secondary h5 p-1\">\n        It is wrong. please click Remove button to remove that authentication from the phone.\n    </Form.Text>\n\n    <Button onClick={ removeAuth } style={{width:\"100%\"}} variant=\"warning\" className=\"m-2\">\n      Remove the authentication\n    </Button>\n\n  </Container>\n  )} />);\n\n  const onPhoneChanged = (e)=>{\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  const isSubmit = ()=>{\n    return (!phone) ? false : true;\n }\n\n const submitPhone = ()=> {\n    engine.loadingOn();\n    setErrorMessage('');\n    engine.DatabaseApi('admin', {\n      action: 'checkPhone',\n      data: {\n        token: params.token,\n        visitorId: SettingStore.getState().fp, \n        phone : phone.replace(patt, '$1$2$3')\n      }\n    }, (result)=>{\n      engine.loadingOff();\n      if (result.status === 'success') {\n        history.push('/SuccessInfo/phone/' + phone);\n      } else {\n        setErrorMessage(result.message);\n      }\n    });\n }\n  const phoneForm = (<Frame title=\"Request authentication:\" body={(\n      <Container className=\"p-3\">\n        <Form.Group className=\"p-2\">\n        <Form.Label>Your phone number</Form.Label>\n        <Form.Control defaultValue={phone} placeholder=\"(xxx)xxx-xxxx\" type=\"text\" style={{fontSize:'1.8rem'}}\n          onChange={onPhoneChanged} />\n      </Form.Group>\n      <Form.Group className=\"p-3\">\n          {(!!isSubmit()) && (<Button className=\"btn btn-info\" onClick={submitPhone}\n            style={{width:\"100%\"}}>\n              Submit\n            </Button>)}\n      </Form.Group>\n      <Form.Text className=\"text-danger text-center\"><h3>{errorMessage}</h3></Form.Text>\n      </Container>)} />);\n\n  return  (isAuth) ? warningPage : phoneForm\n\n}\nexport { CrossFromMobile };","import React  from 'react';\nimport { Container, Alert, Form, Button } from 'react-bootstrap';\nimport { InfoHeader } from '../common';\nimport {useParams } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserCheck, faUserTimes } from '@fortawesome/free-solid-svg-icons';\nimport { SettingStore } from '../../stores';\n\nfunction SuccessInfo(props) {\n  const params = useParams();\n  const code = params.code;\n  let info = {};\n  switch (code) {\n    case 'phone':\n      info = {\n        header : 'Success submitted!',\n        title : '',\n        body : `The authentication request has been sent to ${params.id}. A text message is coming!`\n      };\n      break;\n    case 'linkMobile':\n        const removeAuth = () =>{\n          SettingStore.dispatch({\n            type: 'signOff',\n          });\n        };\n        const authedPage = (<Container className=\"p-1 text-center\">\n              <Form.Text className=\"text-secondary h4 p-3 mt-3\">\n              {(params.id === 'keepExist') ? 'Nothing changed' : 'Authentication placed'}\n              </Form.Text>\n              <FontAwesomeIcon size=\"9x\" icon={faUserCheck} className=\"text-success\" />\n              <Form.Text className=\"text-success h4 p-3 mt-3 mb-3\">\n              The equipment is authrized</Form.Text>\n              <Form.Text className=\"text-success h4 p-0 m-3\">\n                <Button className=\"btn btn-warning mt-3\" onClick={removeAuth}>Remove the authentication</Button>\n              </Form.Text>\n            </Container>);\n\n        const nonAuthedPage = (<Container className=\"p-3 mt-3 text-center\">\n                <Form.Text className=\"text-secondary h4 p-3 mt-3\">\n                  {(params.id === 'failure') ? 'Invalid or expired link.':''}\n                </Form.Text>\n                <FontAwesomeIcon size=\"9x\" icon={faUserTimes} className=\"text-danger\" />\n\n                <Form.Text className=\"text-danger h4 p-3 mt-3\">\n                  The equipment is not authrized\n                </Form.Text>\n              </Container>);\n\n        info = {\n          header : '',\n          title : '',\n          body : (props.isAuth) ? authedPage:  nonAuthedPage\n        };\n        break;\n    case 'crossFromMobile':\n          const crossFromSection = (<Container fluid={true} className=\"p-3\">\n          <Form.Text className=\"text-info h4 p-3\">\n              {(params.id === 'success') ? 'Succeess!' : (params.id === 'stop') ? 'Stopped!': ''}\n          </Form.Text>\n          <Form.Text className=\"text-info h4 p-3\">\n              {(params.id === 'success') ? 'The authentication has been issued to the target desktop application.' : \n               (params.id === 'stop') ? 'No worry. The mobile authentication did not go through!' : ''}\n          </Form.Text>\n        </Container>)\n          info = {\n            header : '',\n            title : '',\n            body : crossFromSection\n          };\n          break;\n    default:\n      info = {\n        header : 'nothing',\n        title : 'nothing',\n        body : 'nothing'\n      };\n  }\n  return (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={info.title}/>\n  <Container>\n    <Alert variant=\"light mt-3\">\n    <Alert.Heading>{info.header}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n}\nexport { SuccessInfo }; ","import React , { useEffect, useState } from 'react';\nimport {useParams, useHistory } from \"react-router-dom\";\n\nimport { Container, Alert, Form, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\n\nfunction LinkFromMobile(props) {\n  const history = useHistory();\n\n  const engine = new Engine();\n  const [isContinue, setIsContinue] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n  const params = useParams();\n  \n  const pullAuthInfo = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n       action: 'getAdminSessionRecord',\n       data: {\n          recid: params.recid, \n          token : params.token\n       }\n    }, (result)=>{\n     engine.loadingOff();\n     if (result.status === 'failure') {\n        setErrorMessage(result.message);\n     }  else {\n       if (!result.data || !result.data.length) {\n          history.push('/SuccessInfo/linkMobile/failure');\n       } else {\n          SettingStore.dispatch({\n            type: 'saveAuthInfo',\n            authInfo: result.data[0]\n          });\n          history.push('/SuccessInfo/linkMobile/success');\n       }\n     }\n    });\n  }\n  const continueDo = ()=> {\n    setIsContinue(true);\n  } \n  const notDo = ()=> {\n    setIsContinue(false);\n    history.push('/SuccessInfo/linkMobile/keepExist');\n  } \n  useEffect(() => {\n    setIsContinue(props.isAuth ? false: true);\n  }, []);\n\n  useEffect(() => {\n    if (isContinue) {\n      pullAuthInfo();\n    }\n  }, [isContinue]);\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={''}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant} className=\"text-primary\">\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\nconst confirmPage= (<Frame title=\"\" body={(<Container fluid={true}>\n  <Form.Text className=\"text-secondary h4 p-2 text-center mb-3 mt-3\">The equipment has been authrized. Would you like to continue?</Form.Text>\n  <Button className=\"btn btn-warning mt-3 mb-2\" onClick={continueDo}\n          style={{width:\"100%\"}}>\n            Continue anyway\n  </Button>\n  <Button className=\"btn btn-info mt-3\" onClick={notDo}\n          style={{width:\"100%\"}}>\n            No, keep exist one.\n  </Button>\n\n</Container>)} />);\n\n  const errorPage = (<Frame title=\"\" body={(<Container fluid={true}>\n    <Form.Text className=\"text-danger h4 p-2\"><b>Data Error ! </b><br/>{errorMessage}</Form.Text>\n  </Container>)} />);\n\n  return  (errorMessage) ? errorPage : (!isContinue) ? confirmPage : '' \n}\nexport { LinkFromMobile };","\nimport React, {useEffect, useState} from 'react';\nimport { Nav, /* NavDropdown, */ Navbar, Container, Badge } from 'react-bootstrap';\nimport { Link, useLocation  } from \"react-router-dom\";\nimport { RoleSection } from './common';\nimport { AuthHeadItem  }  from './mobileAuth';\nimport { Logo } from './common';\n\nfunction Header(props) {\nconst [expanded, setExpanded] = useState(\"\")\n\n  const navItem = {\n    authUsers:  {caption: 'User Admin', role: ['all'], linkTo: '/authUsers'},\n    transTracking:  {caption: 'Transaction Report', role: ['all'], linkTo: '/transReport'}\n  };\n  const SelectedClass = (v)=> {\n    const location = useLocation(); \n    return (location.pathname !== navItem[v].linkTo) ? 'menu-color' : 'menu-color-select';\n  }\n  const getNavLink = (v)=> {\n    const item = !navItem[v] ? {role: []} : navItem[v],\n          itemRole = (!item || !item.role) ? [] : item.role,\n          itemExRole = (!item || !item.exrole) ? [] : item.exrole;\n    const comp = ((item)=>(<Nav.Link as={Link} to={item.linkTo} className={SelectedClass(v)}\n        onClick={()=> {  setExpanded(false); }}>{item.caption}</Nav.Link>))(item);\n\n    return (<RoleSection roles={itemRole} comp={comp} exroles={itemExRole}  />);\n  }\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\" expanded={expanded}>\n            <Navbar.Brand as={Link} to=\"/\" className=\"menu_color\"><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu_color\">\n              <AuthHeadItem />\n            </Navbar.Brand>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"me-auto\">\n                {getNavLink('authUsers')}\n                {getNavLink('transTracking')}\n              </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n      </Container>\n    </Container>\n  );\n}\n\nexport default Header;\n","import { Container } from 'react-bootstrap';\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction Footer() {\n  const Year = new Date().getFullYear();\n  return (\n    <Container fluid={true} className=\"footer\">\n        <div className=\"float-left alert-secondary footer-tag\">\n          &copy; {Year} Dishfu &nbsp;\n          &nbsp;<Link to=\"/privacy\">Privacy</Link>\n          &nbsp;|&nbsp;<Link to=\"/terms\">Term</Link>\n        </div>\n        <div className=\"clearfix p-0 m-0\"></div>\n    </Container>\n    \n  );\n}\nexport default Footer;\n","import React , { useEffect, useState } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { Engine } from '../common';\n\nfunction Home(props) {\n  const engine = new Engine();\n  useEffect(() => {\n\n  }, []);\n  return (\n    <Container fluid={true} className=\"p-0 m-0 content-body\">\n      <Container fluid={true} className=\"p-0 m-0 content-body\">\n        <Container className=\"alert-light text-secondary p-3\">\n            Nothing to address\n        </Container>\n      </Container>\n    </Container>\n  );\n}\nexport default Home;\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction UsersList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'foodie', \n        visitorId: SettingStore.getState().fp, \n        address:address,\n        phone : phone,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  const isSubmit = () => {\n    return (!address) ? false : true;\n  }\n\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n      <Alert variant=\"success mt-3\">\n        <Alert.Heading>You application submitted!</Alert.Heading>\n          <span>\n            You might become a foodie automatically upon our AI valification. or you will be contacted sooner. \n          </span>\n        </Alert>\n    </Container>);\n\n  const inputForm = () => (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Foodie role:</Alert.Heading>\n        <ul>\n          <li>You can be a housewife who wants to share her cooking hobby with neighbours, \n            while making a side income. Foodie can be a restaurant owner, to extend their business objectives. </li>\n          <li>You needs to provide a real address (not PO box), can create receipts, and contact supplies. </li>\n          <li>You drives the following workflow: create receipt -> contact supplier and confirm the plate -> \n            publish the plate to “menu”</li>\n          <li>You authentication requires a barcode provided by DishFoo via mail. \n            Once the barcode is scanned, then Foodie can publish the plate to the menu.</li>\n        </ul>\n      </Alert>\n      <Form>\n      <Form.Group>\n          <Form.Label><b>Foodie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">(Option)</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()}  onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faSearch} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n   return (!success) ? inputForm() : successForm();\n}\n\nexport { UsersList }","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons';\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction ApplicationsList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'supie', \n        visitorId: SettingStore.getState().fp, \n        address:address, \n        phone : phone,\n        qualification: qualification,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onQualificationChanged = (e)=> {\n    setQualification(e.target.value);\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n\n  const isSubmit = () => {\n    return (!phone || !address || !qualification) ? false : true;\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n    <Alert variant=\"success mt-3\">\n      <Alert.Heading>You application submitted!</Alert.Heading>\n        <span>\n          You might become a supie automatically upon our AI valification. or you will be contacted sooner. \n        </span>\n      </Alert>\n    </Container>);\n/*\n  const errorBox = () => {\n    const title = (<span className=\"text-success\">You application submitted! </span>)\n    const message = (<span className=\"text-success\">\n    You might become a supie automatically upon our AI valification. or you will be contacted sooner. </span>)\n    return (<alert message={message} title={title} className=\"mt-3\"/>)\n  }\n*/\n  const inputForm = ()=> (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Supie role</Alert.Heading>\n        <ul>\n          <li>You can be grocery stores, farms or restaurants.</li>\n          <li>You can make plate based on receipt and send back to Foodie for validation.</li>\n          <li> You needs to provide a real address (not PD box), can view the receipts from Foodie.</li>\n        </ul>\n      </Alert>\n\n      <Form>\n        <Form.Group>\n          <Form.Label><b>Supie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Your Qualification:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={qualification} placeholder=\"Input Qualification\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onQualificationChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()} onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faCloudUploadAlt} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n\n   return (!success) ? inputForm() : successForm()\n}\n\nexport { ApplicationsList }","import React , { useState, useEffect } from 'react';\nimport { Container, Image, Alert, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode';\n\nfunction TransSocketSync (props) {\n  const [qr, setQr] = useState('');\n  const [sockedId, setSockedId] =  useState('');\n  const [url, setUrl] =  useState('');\n  \n  useEffect(()=> {\n    console.log('SettingStore==>>>>', SettingStore.getState().data);\n  }, [])\n  useEffect(()=> {\n    if (sockedId) {\n        const linkUrl = SettingStore.getState().config.webServer  + '/MobileAuth/' + sockedId;\n        setUrl(linkUrl);\n        QRCode.toDataURL(linkUrl,\n        { \n            width:338,\n            type: 'image/png',\n            quality: 1.0,\n            color: {\n                dark: '#000000',  \n                light: '#0000'\n            }\n        }, (err, str)=>{\n            setQr(str)\n        });\n    }\n}, [sockedId]);\n  return  (<Container className=\"content-body mt-3\">\n   Nothing\n  </Container>);\n}\nexport {TransSocketSync  }","import React , { useState, useEffect } from 'react';\nimport { Container, } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { TransSocketSync } from '../transReport';\n\nfunction TransDocument (props) {\n   return (<Container>\n      <TransSocketSync/>\n   </Container>)\n}\nexport { TransDocument }","import React , { useEffect } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from 'react-bootstrap';\n\nimport { Home } from \"./content\";\nimport { ApplicationsList, UsersList } from \"./authUsersAdmin\";\nimport { TransDocument } from \"./transReport\";\n\nfunction Body(props) {\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container fluid={true} className=\"m-0 p-0\">\n        <Switch>\n          <Route  exact path=\"/\">\n            <Home/>\n          </Route>\n          <Route  exact path=\"/authUsers\">\n            <ApplicationsList/>\n          </Route>\n          <Route  exact path=\"/authUsers/:uid\">\n            <UsersList/>\n          </Route>\n          <Route  exact path=\"/transReport\">\n            <TransDocument/>\n          </Route>\n        </Switch>\n    </Container>\n   \n  );\n}\n\nexport default Body;\n","import React from 'react';\nimport BarcodeScannerComponent from \"./BarcodeScannerComponent.js\";\n\nfunction ThreeStamps() {\n\n  const [ data, setData ] = React.useState('Not Found');\n\n  return (\n    <span>yyy\n      <BarcodeScannerComponent\n        width={500}\n        height={500}\n        onUpdate={(err, result) => {\n          if (result) setData(result.text)\n          else setData('Not Found')\n        }}\n      />\n      <p>{data}</p>\n    </span>\n  )\n}\n\nexport { ThreeStamps };","import React , { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport  Header  from './modules/Header';\nimport  Footer  from './modules/Footer';\nimport  Body from './modules/Body';\nimport { Spinner, Container  } from 'react-bootstrap';\nimport './App.css';\nimport { useMediaQuery } from 'react-responsive';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { SettingStore } from './stores/';\nimport { Loading, FingerPrinter, InfoHeader } from './modules/common';\nimport { ClientForm, SuccessInfo, CrossFromMobile , LinkFromMobile } from './modules/mobileAuth';\nimport { Engine } from './modules/common';\nimport { ThreeStamps} from './modules/mobileComps'\nconst App = (props) => {\n  const engine = new Engine();\n\n  const fp = new FingerPrinter();\n  const [loadReady, setloadReady] = useState(false);\n  const [isAuth, setIsAuth] = useState(false);\n\n  const screenModel = {\n    isDesktopOrLaptop : useMediaQuery({ query: '(min-width: 1224px)'}),\n    isBigScreen : useMediaQuery({ query: '(min-width: 1824px)' }),\n    isTabletOrMobile : useMediaQuery({ query: '(max-width: 1224px)' }),\n    isPortrait : useMediaQuery({ query: '(orientation: portrait)' }),\n    isRetina : useMediaQuery({ query: '(min-resolution: 2dppx)' })\n  };\n\n  const forceAuth = (callback)=> {\n    \n    const info = SettingStore.getState().data.authInfo;\n    \n     if (!info.authcode) {\n        setIsAuth(false);\n        if (callback) callback();\n        return true;\n      }\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n       action: 'checkTokenAuthCode',\n       data: {\n          token: info.token, \n          authcode : info.authcode\n       }\n    }, (result)=>{\n       engine.loadingOff();\n       if (result.status === 'success') {\n          setIsAuth(true);\n       } else {\n          setIsAuth(false);\n          SettingStore.dispatch({\n            type : 'signOff'\n          });\n       }\n       if (callback) callback();\n    });\n }\n\n  useEffect(() => {\n    if (isAuth) {\n      forceAuth(); \n    }\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'afterInit') {\n        forceAuth(()=> {\n          setloadReady(true);\n        });\n      }\n      if (SettingStore.getState()._watcher === 'forceAuth') {\n        forceAuth();\n      }\n      return false;\n    }); \n\n    SettingStore.dispatch({ type: 'loadScreenModel',\n      screenModel: screenModel\n    });\n\n    return ()=> {\n      handleSubscribe();\n  }\n  }, []);\n  const pageLoading = (<InfoHeader comp={(<Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>)} />);  \n  const headNotAuth = (<InfoHeader comp={(<span size=\"lg\"><b>Admin Sign in</b></span>)} />);  \n  const pageReady = (\n      <Router className=\"p-0 m-0\">\n        <Switch>\n          <Route exact path=\"/3Stamps/:code\">\n            <ThreeStamps isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/SuccessInfo/:code/:id\">\n            <SuccessInfo isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/LinkFromMobile/:recid/:token\">\n            <LinkFromMobile isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/CrossFromMobile/:token\">\n            <CrossFromMobile isAuth={isAuth}/>\n          </Route>\n          <Route>\n            {(!!isAuth) ? (<Header/>) : headNotAuth}\n            {(!isAuth) ? (<Container className=\"p-3\"><ClientForm/></Container>) : (<Body/>)}\n            <Footer/>\n          </Route>\n        </Switch>\n        <Loading/>\n      </Router>)\n\n    return (!loadReady) ? pageLoading : pageReady;\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument._cacheExist = true;\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}