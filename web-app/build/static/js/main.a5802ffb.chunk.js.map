{"version":3,"sources":["modules/mobileComps/BarcodeScannerComponent.js","modules/common/IpfsDoc.js","modules/common/Messagebox.js","stores/SettingStore.js","modules/common/RoleSection.js","modules/common/Loading.js","modules/common/Engine.js","modules/common/FingerPrinter.js","modules/common/AddressInput.js","modules/common/InfoHeader.js","modules/common/Logo.js","modules/mobileAuth/AuthHeadItem.js","modules/mobileAuth/clientForm.js","modules/mobileAuth/crossFromMobile.js","modules/mobileAuth/successInfo.js","modules/mobileAuth/linkFromMobile.js","modules/Header.js","modules/Footer.js","modules/content/Home.js","modules/authUsersAdmin/usersList.js","modules/authUsersAdmin/applicationsList.js","modules/transReport/trsnsSocketSync.js","modules/transReport/transDocument.js","modules/Body.js","modules/mobileComps/threeStamps.js","App.js","reportWebVitals.js","index.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","react_1","require","library_1","react_webcam_1","default","width","height","onUpdate","webcamRef","useRef","codeReader","BrowserMultiFormatReader","capture","useCallback","_a","imageSrc","current","getScreenshot","decodeFromImage","undefined","then","result","catch","err","useEffect","setInterval","createElement","ref","screenshotFormat","videoConstraints","facingMode","IpfsDoc","Mssagebox","message","title","className","Container","style","textTransform","_defaultSetting","ready","loading","screenModel","_watcher","fp","data","isAuth","authInfo","config","host","window","location","hostname","protocol","test","apiServer","webServer","sockerServer","ipfsServer","routeService","getConfig","SettingStore","createStore","state","action","type","signinForm","saveSettingApi","id","Date","getTime","composeWithDevTools","setTimeout","localStorage","setItem","JSON","stringify","callback","a","FingerprintJS","load","get","visitorId","storageName","v","getItem","parse","e","loadSettingApi","dispatch","RoleSection","roles","exroles","comp","showException","useState","myRoles","setMyRoles","Exroles","isection","filter","x","includes","exsection","loadMyRoles","getState","handleSubscribe","subscribe","compException","Messagebox","length","Loading","sts","setSts","keys","Spinner","animation","size","Engine","prop","loadingOn","loadingOff","fetchApi","cfg","me","fetch","url","json","jsonData","status","error","updateSigninForm","token","socketid","phone","DatabaseApi","apiCode","dt","server","method","body","headers","defaultData","recipes","plates","orders","menus","focuses","FingerPrinter","fpPromise","AddressInput","props","defaultValue","inputAddress","setInputAddress","validAddress","setValidAddress","isValid","setIsValid","focused","setFocused","capitalize","str","charAt","toUpperCase","slice","upcase","formatedAddress","o","street_address1","city","postal_code","country","replace","verifyAddress","parser","passAddress","Form","Group","Control","required","placeholder","as","rows","onChange","target","onFocus","onBlur","Text","Row","Col","sx","InfoHeader","fluid","Navbar","expand","Brand","href","Logo","color","fontSize","AuthHeadItem","setIsAuth","auth","onClick","icon","faUnlockAlt","ClientForm","SOCKET_URL","WEBSERVER_URL","linkURL","setLinkURL","qr","setQr","socket","socketClient","connect","console","log","on","socket_id","fromSocket","disconnect","createSocket","createQR","QRCode","toDataURL","quality","dark","light","Alert","variant","Heading","Image","src","CrossFromMobile","history","useHistory","engine","patt","setPhone","errorMessage","setErrorMessage","params","useParams","Frame","info","warningPage","Button","emit","push","phoneForm","Label","SuccessInfo","code","header","authedPage","faUserCheck","nonAuthedPage","faUserTimes","LinkFromMobile","isContinue","setIsContinue","recid","confirmPage","errorPage","Header","expanded","setExpanded","navItem","authUsers","caption","role","linkTo","transTracking","SelectedClass","useLocation","pathname","getNavLink","item","itemRole","itemExRole","exrole","Nav","Link","to","Collapse","Footer","Year","getFullYear","Home","UsersList","address","setAddress","description","setDescription","success","setSuccess","submitApplication","onDescriptionChanged","onPhoneChanged","disabled","faSearch","ApplicationsList","qualification","setQualification","onQualificationChanged","faCloudUploadAlt","TransSocketSync","sockedId","setUrl","linkUrl","TransDocument","Body","exact","path","ThreeStamps","React","setData","text","App","loadReady","setloadReady","isDesktopOrLaptop","useMediaQuery","query","isBigScreen","isTabletOrMobile","isPortrait","isRetina","forceAuth","authcode","pageLoading","headNotAuth","pageReady","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","document","_cacheExist","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5802ffb.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst library_1 = require(\"@zxing/library\");\nconst react_webcam_1 = __importDefault(require(\"react-webcam\"));\nconst BarcodeScannerComponent = ({ width, height, onUpdate }) => {\n    const webcamRef = react_1.default.useRef(null);\n    const codeReader = new library_1.BrowserMultiFormatReader();\n    const capture = react_1.default.useCallback(() => {\n        var _a;\n        const imageSrc = (_a = webcamRef === null || webcamRef === void 0 ? void 0 : webcamRef.current) === null || _a === void 0 ? void 0 : _a.getScreenshot();\n        if (imageSrc) {\n            codeReader.decodeFromImage(undefined, imageSrc).then(result => {\n                onUpdate(null, result);\n            }).catch((err) => {\n                onUpdate(err);\n            });\n        }\n    }, [codeReader, onUpdate]);\n    react_1.default.useEffect(() => {\n        setInterval(capture, 100);\n    }, []);\n    return (react_1.default.createElement(react_webcam_1.default, { width: width, height: height, ref: webcamRef, screenshotFormat: \"image/png\", videoConstraints: {\n            facingMode: 'environment'\n        } }));\n};\nexports.default = BarcodeScannerComponent;\n","import {useState, useEffect} from 'react';\nimport {  IPFSEngine } from '../common';\n\nfunction IpfsDoc(props) {\n  const [doc, setDoc] = useState(null);\n  const ipfsEngine = new IPFSEngine();\n  // const [tm, setTm] = useState(0);\n  const tpl = props.tpl;\n  useEffect(()=> {\n    (async ()=> {\n      const x = await ipfsEngine.promiseIpfsJSON(props.ipfs)\n      // const x = await loadIpfs();\n      setDoc(x);\n      // setTm(new Date().getTime());\n    })();\n  }, []);\n  return (!doc)? props.ipfs : tpl({record:doc, className: props.className, style:props.style})\n}\nexport default IpfsDoc;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\n\nconst Mssagebox = ({ message, title, className }) => {\n  return (<Container className={className + ' rounded p-3 message-box grid-bg'}>\n      <b style={{textTransform: 'capitalize'}}>{title}</b>\n      <h3 className=\"text-secondary m-3 p-3\">{message}</h3>\n    </Container>);\n};\nexport default Mssagebox;\n","import { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nconst getConfig = ()=> {\n    const ipPatt = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\n    const host  = window.location.hostname;\n    const protocol = window.location.protocol\n    return (host === 'localhost' || ipPatt.test(host)) ? {\n      apiServer     : protocol + '//' + host + ':3001/api',\n      webServer     : protocol + '//' + host + ':3006',\n      sockerServer  : protocol + '//' + host + ':3001/dishFu',\n      ipfsServer    : protocol + '//gateway.ipfs.io/ipfs/',\n      routeService  : 'https://dishFu.com/_service_/'\n    } :  {\n      apiServer     : protocol + '//' + host + '/api',\n      webServer     : protocol + '//' + host + '',\n      sockerServer  : protocol + '//' + host + '/dishFu',\n      ipfsServer    : protocol +  '//gateway.ipfs.io/ipfs/',\n      routeService  : 'https://dishFu.com/_service_/'\n    }\n}\n\nconst _defaultSetting = {ready: false, loading: {}, screenModel:{}, _watcher:'',\n      fp : '',\n      data : { isAuth: false, authInfo: {}},\n      config:getConfig()\n  };\n\nconst reducer = (state = _defaultSetting, action) => {\n  state._watcher = '';\n  switch(action.type) {\n    case 'updateSigninForm':\n      state.data.signinForm = action.data;\n      state._watcher = 'auth';\n      saveSettingApi(state.data);\n      return state;\n    case 'saveAuthInfo':\n      state.data.authInfo = action.authInfo;\n      state.data.isAuth = true;\n      state._watcher = 'forceAuth';\n      saveSettingApi(state.data);\n      \n      return state;\n\n    case 'signOff':\n      state.data.authInfo = {};\n      state.data.isAuth = false;\n      state._watcher = 'forceAuth';\n      saveSettingApi(state.data);\n      return state;\n \n    /* --- None api action  --> */\n    case 'loadScreenModel':\n      state.screenModel = action.screenModel;\n      return state;\n\n    case 'addLoading':\n      state._watcher = 'loading';\n      state.loading[action.id] = new Date().getTime();\n      return state;\n    case 'removeLoading':\n      state._watcher = 'loading';\n      delete state.loading[action.id];\n      return state;\n\n    case 'initStore':\n      state.data = action.data;\n      state.fp = action.fp;\n      state._watcher = 'afterInit';\n      return state;\n\n    default:\n      return state;\n  }\n};\nconst SettingStore = createStore(reducer, composeWithDevTools());\n\n/* --- simulated api ----> */\n\nconst loadSettingApi = async (callback) =>{\n  const fpPromise = FingerprintJS.load();\n  fpPromise.then(fp => fp.get())\n  .then(result => {\n    // This is the visitor identifier:\n    const visitorId = result.visitorId\n    const storageName = 'localSettingData';\n    let v = _defaultSetting.data;\n    try {\n      v = (!localStorage.getItem(storageName)) ? _defaultSetting.data : JSON.parse(localStorage.getItem(storageName))\n    } catch(e) {}\n    if (typeof callback === 'function') {\n      callback(v, result.visitorId);\n    }\n  })\n}\nconst saveSettingApi = (data) =>{\n  setTimeout(\n    ()=>{\n      localStorage.setItem('localSettingData',  JSON.stringify(data));\n    }, 500\n  );\n}\n\n/* <--- simulated api */\nloadSettingApi((data, fp)=>{\n  SettingStore.dispatch({\n    type: 'initStore',\n    data : data,\n    fp : fp\n  });\n});\n\n\n\nexport default SettingStore;\n","import React, {useState, useEffect} from 'react';\nimport { SettingStore } from \"../../stores\";\nimport { Messagebox } from \"../common\";\n\nfunction RoleSection({roles, exroles, comp, showException}) {\n  const [myRoles, setMyRoles] = useState([]);\n  const Exroles = (!exroles) ? [] : exroles;\n  \n  const isection = roles.filter(x => [...myRoles, 'all'].includes(x));\n  const exsection  = Exroles.filter(x => [...myRoles].includes(x));\n  \n  const loadMyRoles = () => {\n    setMyRoles( (!SettingStore.getState().data.authInfo || !SettingStore.getState().data.authInfo.roles) ? \n      [] : SettingStore.getState().data.authInfo.roles\n    );\n  }\n  useEffect(()=> {\n    const handleSubscribe =  SettingStore.subscribe(() => {\n        if (SettingStore.getState()._watcher === 'role' || SettingStore.getState()._watcher === 'auth') {\n          loadMyRoles();\n        }\n    });\n    loadMyRoles();\n    return ()=> {\n      handleSubscribe();\n    }\n  }, []);\n\n  const compException = (<div className=\"p-3\"><Messagebox message=\"Missing required roles\" /></div>)\n  return  (!isection.length || !!exsection.length) ? ((!showException) ? '' : compException) : comp\n}\nexport default RoleSection;\n","import React, { useState, useEffect} from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { SettingStore } from '../../stores/';\n\nfunction Loading() {\n  const [ sts, setSts] = useState(0);\n\n  useEffect(()=>{\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'loading') {\n         setSts(Object.keys(SettingStore.getState().loading).length);\n      }\n    });\n    return ()=> {\n      handleSubscribe();\n    }\n\n  },[]);\n  \n  return (\n  <div className={(sts) ? 'loading' : 'no-loading'}>\n      <Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>\n  </div>\n  )\n}\nexport { Loading }\n","import { SettingStore } from '../../stores';\n\nclass Engine {\n    constructor(prop) {\n        this.id = new Date().getTime();\n        this.defaultData = {recipes:[], plates:[], orders:[], menus:[], focuses:[]};\n        this.server = SettingStore.getState().config.apiServer;\n    }\n    loadingOn = ()=> {\n        SettingStore.dispatch({type:'addLoading', id: this.id});\n    }\n    loadingOff = ()=> {\n        SettingStore.dispatch({type:'removeLoading', id: this.id});\n    }\n    fetchApi = async (cfg, callback)=>{\n        this.loadingOn();\n        const me = this;\n        fetch(cfg.url, {}).then((v)=> {\n            return v.json()\n        }).then((jsonData, err)=>{\n            if (jsonData.status === 200) {\n                me.loadingOff();\n                callback(jsonData.data);\n            } else {\n                me.loadingOff();\n            }\n        }).catch((error)=> {\n            me.loadingOff();\n          });;\n    }\n\n    updateSigninForm = (token, socketid, phone)=>{\n        SettingStore.dispatch({\n            type: 'updateSigninForm',\n            data : {\n                token: token,\n                phone : phone,\n                socketid : socketid\n            }\n        });\n    }\n\n\n     DatabaseApi = (apiCode, dt, callback)=>{\n        const me = this;\n        fetch(me.server + '/' + apiCode, {\n            method: 'POST',\n            body: JSON.stringify(dt),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(v=>v.json()).then((data)=> {\n            callback(data);\n        }).catch((err) => {\n            callback({status:'failure', message: err.message});\n        });\n     }\n\n}\n\nexport default Engine;","import { SettingStore, DataStore } from '../../stores';\n// -- https://github.com/fingerprintjs/fingerprintjs\nimport  FingerprintJS  from '@fingerprintjs/fingerprintjs'\n\nclass FingerPrinter {\n    constructor(prop) {\n        this.visitorId = null;\n    }\n    load = async () => {\n        // Get the visitor identifier when you need it.\n        const fpPromise = FingerprintJS.load();\n        const fp = await fpPromise\n        const result = await fp.get()\n        \n        // This is the visitor identifier:\n        this.visitorId = result.visitorId\n        return this.visitorId;\n        console.log('a->', this.visitorId)\n    }\n}\n\nexport default FingerPrinter;","import React , { useState, useEffect } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport parser from 'parse-address-string';\n\nfunction AddressInput(props) {\n  const [inputAddress, setInputAddress] = useState(props.defaultValue);\n  const [validAddress, setValidAddress] = useState({});\n  const [isValid, setIsValid] = useState(false);\n  const [focused, setFocused] = useState(false);\n\n  const onAddressChange = (e)=> {\n    e.target.value = e.target.value\n    verifyAddress(e.target.value);\n  }\n  const onAddressBlur = (e)=> {\n    setFocused(false);\n    if (isValid) {\n      e.target.value=formatedAddress(validAddress);\n    } else {\n      e.target.value = '';\n    }\n    setInputAddress(formatedAddress(validAddress));\n  }\n  const capitalize = (str) => {\n    return !str? '' : str.charAt(0).toUpperCase() + str.slice(1)\n  }\n  const upcase = (str) => {\n    return !str? '' : str.toUpperCase()\n  }\n\n  const formatedAddress = (o) =>{\n    return (capitalize(o.street_address1)  +  ',' + capitalize(o.city) +  ',' + upcase(o.state) + ' ' + upcase(o.postal_code) +\n    upcase((o.country === 'USA') ? '' : o.country)).replace(/\\s+/ig, \" \");\n  }\n  const verifyAddress = (inputAddress)=> {\n    parser(inputAddress, function(err,o){\n      o.country = (!o.country) ? 'USA' : o.country;\n      setValidAddress(o)\n      if (!!o.street_address1 && !!o.city && !!o.postal_code && !!o.state && !err) {\n        props.passAddress(formatedAddress(o));\n        setIsValid(true);\n      } else {\n        props.passAddress('');\n        setIsValid(false);\n      }\n    })\n    return true;\n}\n  useEffect(()=> {\n   }, []);\n   return   (<Form.Group>\n      <Form.Control defaultValue={inputAddress} required placeholder=\"Input Your address\" as=\"textarea\" \n        rows=\"1\"\n        onChange={onAddressChange} \n        onFocus={()=>{ setFocused(true)}}\n        onBlur={onAddressBlur}\n        />\n      {(focused) && (<Form.Text className=\"p-3 mt-1 alert-secondary\">\n        <Row>\n          <Col sx={6} className=\"p-0 pl-2\">\n            Street Address: <b>{validAddress.street_address1}</b><br/>\n            City: <b>{validAddress.city}</b><br/>\n            {(isValid) ? (<span className=\"text-success\">Correct Format.</span>) : (<span  className=\"text-info\">Parsing ...</span>)}\n          </Col>\n          <Col sx={6}  className=\"p-0 pl-2\">\n            State: <b>{validAddress.state}</b><br/>\n            Postal: <b>{validAddress.postal_code}</b><br/>\n            Country: <b>{validAddress.country}</b><br/>\n          </Col>\n        </Row>  \n      </Form.Text>)}\n    </Form.Group>);\n}\n\nexport { AddressInput }","import React from 'react';\nimport { Navbar, Container } from 'react-bootstrap';\nimport { Logo } from '../common';\nfunction InfoHeader(props) {\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\">\n            <Navbar.Brand href=\"\" ><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu-color\">\n              {props.comp}\n            </Navbar.Brand>\n        </Navbar>\n      </Container>\n    </Container>\n  )\n}\nexport { InfoHeader };\n","import React from 'react';\nfunction Logo() {\n  return (\n    <div className=\"border rounded p-1 m-0\" style={{color:'yellow', fontSize:'1.5rem'}}>\n    菜譜<span className=\"ml-1\" style={{fontSize:'1rem'}}>SupportCenter</span>\n    </div>\n  )\n}\nexport { Logo };\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faQrcode, faUnlockAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport { SettingStore } from '../../stores';\n\nfunction AuthHeadItem(props) {\n    const [isAuth, setIsAuth ] = useState(false);\n    const authProcess = () => {\n      SettingStore.dispatch({\n        type: 'signOff'\n     });\n    }\n    useEffect(() => {\n        const handleSubscribe = SettingStore.subscribe(() => {\n          if (SettingStore.getState()._watcher === 'auth') {\n            setIsAuth(SettingStore.getState().data.auth);\n          }\n          return false;\n        });\n        setIsAuth(SettingStore.getState().data.auth);\n        return ()=> {\n          handleSubscribe();\n      }\n      }, []);\n\n    return (<div className=\"rounded p-1 m-0\" style={{fontSize:'1.1rem'}}>\n        <span className=\"menu-color\"  onClick={authProcess}>\n        <FontAwesomeIcon size=\"1x\" icon={faUnlockAlt} className=\"mr-1\" /> Sign off\n        </span>\n    </div>)\n}\n\nexport { AuthHeadItem }","import React , { useState, useEffect } from 'react';\nimport { Container, Alert, Image} from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode'\nimport socketClient  from 'socket.io-client';\n\nfunction ClientForm (props) {\n   const SOCKET_URL = SettingStore.getState().config.sockerServer;\n   const WEBSERVER_URL = SettingStore.getState().config.webServer;\n   const [linkURL, setLinkURL] =  useState('');\n   const [qr, setQr] =  useState('');\n\n   const createSocket = (callback) => {\n      const socket = socketClient.connect(SOCKET_URL);\n      console.log('===SOCKET_URL===' + SOCKET_URL);\n      socket.on('connect', () => {\n\n         console.log('===socket-connected===' + socket.id);\n         const socket_id = socket.id.replace('/dishFu#', '');\n         socket.on('afterTransfer', (fromSocket, body) =>{\n            if (body.action === 'sendAuthInfo') {\n               SettingStore.dispatch({\n                  type: 'saveAuthInfo',\n                  authInfo: body.data\n               });\n               socket.disconnect();\n            }\n          });\n         if (callback) {\n            callback(socket_id);\n         }\n      });\n      socket.on('disconnect', () => {});\n      return socket\n   }\n   useEffect(()=> {\n      const socket = createSocket((socketid) => {\n         setLinkURL(WEBSERVER_URL + '/crossFromMobile/' + socketid);\n      });\n      return  () => {\n         socket.disconnect();\n         console.log('cleaned up ===  disconnexted === ');\n       };\n    }, [])\n\n    useEffect(()=> {\n      createQR();\n    }, [linkURL])\n\n    const createQR = () => {\n      QRCode.toDataURL(linkURL,\n         {   width:338, type: 'image/png', quality: 1.0,\n              color: {\n                  dark: '#000000', light: '#0000'\n              }\n          }, \n          (err, str)=> setQr(str)\n      );\n   }\n   return (<Alert variant=\"secondary\">\n               <Alert.Heading className=\"p-3\">Please scan the QR code to signin -- </Alert.Heading>\n               <Container fluid={true}>\n                  {linkURL}\n                  <br/>\n                  {(qr) && (<Image src={qr} className=\"border border-primary\"/>)}\n               </Container>\n            </Alert>)\n}\nexport { ClientForm }","import React , { useEffect, useState } from 'react';\nimport {useParams, useHistory } from \"react-router-dom\";\n\nimport { Container, Alert, Button, Form } from 'react-bootstrap';\n\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\nimport socketClient  from 'socket.io-client';\n\nfunction CrossFromMobile(props) {\n  const history = useHistory();\n\n  const engine = new Engine();\n  const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n  const SOCKET_URL = SettingStore.getState().config.sockerServer;\n  \n  const [isAuth, setIsAuth] = useState(props.isAuth);\n  const [phone, setPhone] = useState('');\n  const [errorMessage, setErrorMessage ] = useState('');\n\n  const params = useParams();\n  \n  const confirmedAuth = ()=> {\n    history.push('/SuccessInfo/crossFromMobile/success');\n  } \n  const stopAuth = ()=> {\n    history.push('/SuccessInfo/crossFromMobile/stop');\n  } \n\n  const removeAuth = () =>{\n    SettingStore.dispatch({\n      type: 'signOff',\n    });\n    history.push('/SuccessInfo/linkMobile/' + new  Date().getTime())\n  };\n\n  const permit = ()=> {\n    const socket = socketClient.connect(SOCKET_URL);\n    socket.on('connect', () => {\n      const socket_id = socket.id.replace('/dishFu#', '');\n      socket.emit(\"transfer\", params.token, socket_id, \n        { action: 'sendAuthInfo',\n          data : SettingStore.getState().data.authInfo\n        });\n      socket.disconnect();\n      confirmedAuth();\n    });\n    \n  }\n  useEffect(() => {\n    // permit();\n  }, []);\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={''}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant}>\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\n  const warningPage = (<Frame title=\"QR Code captured\" body={(<Container fluid={true}>\n    <Form.Text className=\"center text-secondary h5 p-0\">\n        Click the Yes button to authorize the desktop application from this phone.\n    </Form.Text>\n    <Button onClick={permit} style={{width:\"100%\"}} className=\"btn btton-warning\">\n        Yes, continue\n    </Button>\n    <Form.Text className=\"center text-secondary h5 p-1\">\n        If it is not your expectd process. please click stop button to skip that authentication process\n    </Form.Text>\n    <Button onClick={ stopAuth } style={{width:\"100%\"}} variant=\"danger\" className=\"m-2\">\n        Stop the authentication\n    </Button> \n\n    <Form.Text className=\"center text-secondary h5 p-1\">\n        It is wrong. please click Remove button to remove that authentication from the phone.\n    </Form.Text>\n\n    <Button onClick={ removeAuth } style={{width:\"100%\"}} variant=\"warning\" className=\"m-2\">\n      Remove the authentication\n    </Button>\n\n  </Container>\n  )} />);\n\n  const onPhoneChanged = (e)=>{\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  const isSubmit = ()=>{\n    return (!phone) ? false : true;\n }\n\n const submitPhone = ()=> {\n    engine.loadingOn();\n    setErrorMessage('');\n    engine.DatabaseApi('admin', {\n      action: 'checkPhone',\n      data: {\n        token: params.token,\n        visitorId: SettingStore.getState().fp, \n        phone : phone.replace(patt, '$1$2$3')\n      }\n    }, (result)=>{\n      engine.loadingOff();\n      if (result.status === 'success') {\n        history.push('/SuccessInfo/phone/' + phone);\n      } else {\n        setErrorMessage(result.message);\n      }\n    });\n }\n  const phoneForm = (<Frame title=\"Request authentication:\" body={(\n      <Container className=\"p-3\">\n        <Form.Group className=\"p-2\">\n        <Form.Label>Your phone number</Form.Label>\n        <Form.Control defaultValue={phone} placeholder=\"(xxx)xxx-xxxx\" type=\"text\" style={{fontSize:'1.8rem'}}\n          onChange={onPhoneChanged} />\n      </Form.Group>\n      <Form.Group className=\"p-3\">\n          {(!!isSubmit()) && (<Button className=\"btn btn-info\" onClick={submitPhone}\n            style={{width:\"100%\"}}>\n              Submit\n            </Button>)}\n      </Form.Group>\n      <Form.Text className=\"text-danger text-center\"><h3>{errorMessage}</h3></Form.Text>\n      </Container>)} />);\n\n  return  (isAuth) ? warningPage : phoneForm\n\n}\nexport { CrossFromMobile };","import React  from 'react';\nimport { Container, Alert, Form, Button } from 'react-bootstrap';\nimport { InfoHeader } from '../common';\nimport {useParams } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserCheck, faUserTimes } from '@fortawesome/free-solid-svg-icons';\nimport { SettingStore } from '../../stores';\n\nfunction SuccessInfo(props) {\n  const params = useParams();\n  const code = params.code;\n  let info = {};\n  switch (code) {\n    case 'phone':\n      info = {\n        header : 'Success submitted!',\n        title : '',\n        body : `The authentication request has been sent to ${params.id}. A text message is coming!`\n      };\n      break;\n    case 'linkMobile':\n        const removeAuth = () =>{\n          SettingStore.dispatch({\n            type: 'signOff',\n          });\n        };\n        const authedPage = (<Container className=\"p-1 text-center\">\n              <Form.Text className=\"text-secondary h4 p-3 mt-3\">\n              {(params.id === 'keepExist') ? 'Nothing changed' : 'Authentication placed'}\n              </Form.Text>\n              <FontAwesomeIcon size=\"9x\" icon={faUserCheck} className=\"text-success\" />\n              <Form.Text className=\"text-success h4 p-3 mt-3 mb-3\">\n              The equipment is authrized</Form.Text>\n              <Form.Text className=\"text-success h4 p-0 m-3\">\n                <Button className=\"btn btn-warning mt-3\" onClick={removeAuth}>Remove the authentication</Button>\n              </Form.Text>\n            </Container>);\n\n        const nonAuthedPage = (<Container className=\"p-3 mt-3 text-center\">\n                <Form.Text className=\"text-secondary h4 p-3 mt-3\">\n                  {(params.id === 'failure') ? 'Invalid or expired link.':''}\n                </Form.Text>\n                <FontAwesomeIcon size=\"9x\" icon={faUserTimes} className=\"text-danger\" />\n\n                <Form.Text className=\"text-danger h4 p-3 mt-3\">\n                  The equipment is not authrized\n                </Form.Text>\n              </Container>);\n\n        info = {\n          header : '',\n          title : '',\n          body : (props.isAuth) ? authedPage:  nonAuthedPage\n        };\n        break;\n    case 'crossFromMobile':\n          const crossFromSection = (<Container fluid={true} className=\"p-3\">\n          <Form.Text className=\"text-info h4 p-3\">\n              {(params.id === 'success') ? 'Succeess!' : (params.id === 'stop') ? 'Stopped!': ''}\n          </Form.Text>\n          <Form.Text className=\"text-info h4 p-3\">\n              {(params.id === 'success') ? 'The authentication has been issued to the target desktop application.' : \n               (params.id === 'stop') ? 'No worry. The mobile authentication did not go through!' : ''}\n          </Form.Text>\n        </Container>)\n          info = {\n            header : '',\n            title : '',\n            body : crossFromSection\n          };\n          break;\n    default:\n      info = {\n        header : 'nothing',\n        title : 'nothing',\n        body : 'nothing'\n      };\n  }\n  return (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={info.title}/>\n  <Container>\n    <Alert variant=\"light mt-3\">\n    <Alert.Heading>{info.header}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n}\nexport { SuccessInfo }; ","import React , { useEffect, useState } from 'react';\nimport {useParams, useHistory } from \"react-router-dom\";\n\nimport { Container, Alert, Form, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { InfoHeader, Engine } from '../common';\n\nfunction LinkFromMobile(props) {\n  const history = useHistory();\n\n  const engine = new Engine();\n  const [isContinue, setIsContinue] = useState(null);\n  const [errorMessage, setErrorMessage] = useState('');\n  const params = useParams();\n  \n  const pullAuthInfo = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n       action: 'getAdminSessionRecord',\n       data: {\n          recid: params.recid, \n          token : params.token\n       }\n    }, (result)=>{\n     engine.loadingOff();\n     if (result.status === 'failure') {\n        setErrorMessage(result.message);\n     }  else {\n       if (!result.data || !result.data.length) {\n          history.push('/SuccessInfo/linkMobile/failure');\n       } else {\n          SettingStore.dispatch({\n            type: 'saveAuthInfo',\n            authInfo: result.data[0]\n          });\n          history.push('/SuccessInfo/linkMobile/success');\n       }\n     }\n    });\n  }\n  const continueDo = ()=> {\n    setIsContinue(true);\n  } \n  const notDo = ()=> {\n    setIsContinue(false);\n    history.push('/SuccessInfo/linkMobile/keepExist');\n  } \n  useEffect(() => {\n    setIsContinue(props.isAuth ? false: true);\n  }, []);\n\n  useEffect(() => {\n    if (isContinue) {\n      pullAuthInfo();\n    }\n  }, [isContinue]);\n\n  const Frame = (info) => (<Container fluid={true} className=\"m-0 p-0\">\n  <InfoHeader comp={''}/>\n  <Container>\n    <Alert variant={!info.variant ? 'light mt-3' :  info.variant} className=\"text-primary\">\n    <Alert.Heading>{info.title}</Alert.Heading>\n      {info.body}\n    </Alert>\n  </Container>\n  </Container>)\n\nconst confirmPage= (<Frame title=\"\" body={(<Container fluid={true}>\n  <Form.Text className=\"text-secondary h4 p-2 text-center mb-3 mt-3\">The equipment has been authrized. Would you like to continue?</Form.Text>\n  <Button className=\"btn btn-warning mt-3 mb-2\" onClick={continueDo}\n          style={{width:\"100%\"}}>\n            Continue anyway\n  </Button>\n  <Button className=\"btn btn-info mt-3\" onClick={notDo}\n          style={{width:\"100%\"}}>\n            No, keep exist one.\n  </Button>\n\n</Container>)} />);\n\n  const errorPage = (<Frame title=\"\" body={(<Container fluid={true}>\n    <Form.Text className=\"text-danger h4 p-2\"><b>Data Error ! </b><br/>{errorMessage}</Form.Text>\n  </Container>)} />);\n\n  return  (errorMessage) ? errorPage : (!isContinue) ? confirmPage : '' \n}\nexport { LinkFromMobile };","\nimport React, {useEffect, useState} from 'react';\nimport { Nav, /* NavDropdown, */ Navbar, Container, Badge } from 'react-bootstrap';\nimport { Link, useLocation  } from \"react-router-dom\";\nimport { RoleSection } from './common';\nimport { AuthHeadItem  }  from './mobileAuth';\nimport { Logo } from './common';\n\nfunction Header(props) {\nconst [expanded, setExpanded] = useState(\"\")\n\n  const navItem = {\n    authUsers:  {caption: 'User Admin', role: ['all'], linkTo: '/authUsers'},\n    transTracking:  {caption: 'Transaction Report', role: ['all'], linkTo: '/transReport'}\n  };\n  const SelectedClass = (v)=> {\n    const location = useLocation(); \n    return (location.pathname !== navItem[v].linkTo) ? 'menu-color' : 'menu-color-select';\n  }\n  const getNavLink = (v)=> {\n    const item = !navItem[v] ? {role: []} : navItem[v],\n          itemRole = (!item || !item.role) ? [] : item.role,\n          itemExRole = (!item || !item.exrole) ? [] : item.exrole;\n    const comp = ((item)=>(<Nav.Link as={Link} to={item.linkTo} className={SelectedClass(v)}\n        onClick={()=> {  setExpanded(false); }}>{item.caption}</Nav.Link>))(item);\n\n    return (<RoleSection roles={itemRole} comp={comp} exroles={itemExRole}  />);\n  }\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container className=\"bg-info\" fluid={true}>\n      <Container>\n        <Navbar expand=\"lg\" className=\"p-1\" expanded={expanded}>\n            <Navbar.Brand as={Link} to=\"/\" className=\"menu_color\"><Logo/></Navbar.Brand>\n            <Navbar.Brand className=\"menu_color\">\n              <AuthHeadItem />\n            </Navbar.Brand>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n              <Nav className=\"me-auto\">\n                {getNavLink('authUsers')}\n                {getNavLink('transTracking')}\n              </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n      </Container>\n    </Container>\n  );\n}\n\nexport default Header;\n","import { Container } from 'react-bootstrap';\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction Footer() {\n  const Year = new Date().getFullYear();\n  return (\n    <Container fluid={true} className=\"footer\">\n        <div className=\"float-left alert-secondary footer-tag\">\n          &copy; {Year} Dishfu &nbsp;\n          &nbsp;<Link to=\"/privacy\">Privacy</Link>\n          &nbsp;|&nbsp;<Link to=\"/terms\">Term</Link>\n        </div>\n        <div className=\"clearfix p-0 m-0\"></div>\n    </Container>\n    \n  );\n}\nexport default Footer;\n","import React , { useEffect, useState } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { Engine } from '../common';\n\nfunction Home(props) {\n  const engine = new Engine();\n  useEffect(() => {\n\n  }, []);\n  return (\n    <Container fluid={true} className=\"p-0 m-0 content-body\">\n      <Container fluid={true} className=\"p-0 m-0 content-body\">\n        <Container className=\"alert-light text-secondary p-3\">\n            Nothing to address\n        </Container>\n      </Container>\n    </Container>\n  );\n}\nexport default Home;\n","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction UsersList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'foodie', \n        visitorId: SettingStore.getState().fp, \n        address:address,\n        phone : phone,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  const isSubmit = () => {\n    return (!address) ? false : true;\n  }\n\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n      <Alert variant=\"success mt-3\">\n        <Alert.Heading>You application submitted!</Alert.Heading>\n          <span>\n            You might become a foodie automatically upon our AI valification. or you will be contacted sooner. \n          </span>\n        </Alert>\n    </Container>);\n\n  const inputForm = () => (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Foodie role:</Alert.Heading>\n        <ul>\n          <li>You can be a housewife who wants to share her cooking hobby with neighbours, \n            while making a side income. Foodie can be a restaurant owner, to extend their business objectives. </li>\n          <li>You needs to provide a real address (not PO box), can create receipts, and contact supplies. </li>\n          <li>You drives the following workflow: create receipt -> contact supplier and confirm the plate -> \n            publish the plate to “menu”</li>\n          <li>You authentication requires a barcode provided by DishFoo via mail. \n            Once the barcode is scanned, then Foodie can publish the plate to the menu.</li>\n        </ul>\n      </Alert>\n      <Form>\n      <Form.Group>\n          <Form.Label><b>Foodie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">(Option)</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()}  onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faSearch} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n   return (!success) ? inputForm() : successForm();\n}\n\nexport { UsersList }","import React , { useState, useEffect } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons';\nimport { AddressInput, Engine } from '../common';\nimport { SettingStore } from '../../stores';\n\nfunction ApplicationsList(props) {\n  const engine = new Engine();\n  const [address, setAddress] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [description, setDescription] = useState('');\n  const [phone, setPhone] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const submitApplication = ()=> {\n    engine.loadingOn();\n    engine.DatabaseApi('application', {\n      action: 'save',\n      data: {\n        type:'supie', \n        visitorId: SettingStore.getState().fp, \n        address:address, \n        phone : phone,\n        qualification: qualification,\n        description: description\n      }\n    }, ()=>{\n      engine.loadingOff();\n      setSuccess(true);\n    });\n  }\n  const onQualificationChanged = (e)=> {\n    setQualification(e.target.value);\n  }\n  const onDescriptionChanged = (e)=> {\n    setDescription(e.target.value);\n  }\n\n  const isSubmit = () => {\n    return (!phone || !address || !qualification) ? false : true;\n  }\n  const onPhoneChanged = (e)=> {\n    const patt = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n    if (patt.test(e.target.value)) {\n      e.target.value = e.target.value.replace(patt, '($1)$2-$3');\n      setPhone(e.target.value.replace(patt, '($1)$2-$3'));\n    } else {\n      setPhone('');\n    }\n  }\n  useEffect(()=> {}, []);\n\n  const successForm = () =>  (\n    <Container>\n    <Alert variant=\"success mt-3\">\n      <Alert.Heading>You application submitted!</Alert.Heading>\n        <span>\n          You might become a supie automatically upon our AI valification. or you will be contacted sooner. \n        </span>\n      </Alert>\n    </Container>);\n/*\n  const errorBox = () => {\n    const title = (<span className=\"text-success\">You application submitted! </span>)\n    const message = (<span className=\"text-success\">\n    You might become a supie automatically upon our AI valification. or you will be contacted sooner. </span>)\n    return (<alert message={message} title={title} className=\"mt-3\"/>)\n  }\n*/\n  const inputForm = ()=> (\n   <Container className=\"mb-3 pb-3\">\n      <Alert variant=\"secondary mt-3\">\n        <Alert.Heading>If you have the Supie role</Alert.Heading>\n        <ul>\n          <li>You can be grocery stores, farms or restaurants.</li>\n          <li>You can make plate based on receipt and send back to Foodie for validation.</li>\n          <li> You needs to provide a real address (not PD box), can view the receipts from Foodie.</li>\n        </ul>\n      </Alert>\n\n      <Form>\n        <Form.Group>\n          <Form.Label><b>Supie Address:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <AddressInput passAddress={setAddress} defaultValue={address}/>\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Contact Phone:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={phone} placeholder=\"Input Contact Phone\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onPhoneChanged} />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Your Qualification:</b> <span className=\"form_notice_info\">* Required</span></Form.Label>\n          <Form.Control defaultValue={qualification} placeholder=\"Input Qualification\" as=\"textarea\" \n            rows=\"1\"\n            onChange={onQualificationChanged } />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label><b>Application Description:</b> <span className=\"form_notice_info\">(Option)</span> </Form.Label>\n          <Form.Control defaultValue={description} placeholder=\"Input Description\" as=\"textarea\" \n            rows=\"3\"\n            onChange={onDescriptionChanged } />\n        </Form.Group>\n        <Button className=\"btn btn-info m-0 mr-3\" disabled={!isSubmit()} onClick={submitApplication}>\n          <FontAwesomeIcon size=\"1x\" icon={faCloudUploadAlt} className=\"m-0\" /> Submit\n        </Button>\n      </Form>\n   </Container>);\n\n   return (!success) ? inputForm() : successForm()\n}\n\nexport { ApplicationsList }","import React , { useState, useEffect } from 'react';\nimport { Container, Image, Alert, Button } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport QRCode from 'qrcode';\n\nfunction TransSocketSync (props) {\n  const [qr, setQr] = useState('');\n  const [sockedId, setSockedId] =  useState('');\n  const [url, setUrl] =  useState('');\n  \n  useEffect(()=> {\n    console.log('SettingStore==>>>>', SettingStore.getState().data);\n  }, [])\n  useEffect(()=> {\n    if (sockedId) {\n        const linkUrl = SettingStore.getState().config.webServer  + '/MobileAuth/' + sockedId;\n        setUrl(linkUrl);\n        QRCode.toDataURL(linkUrl,\n        { \n            width:338,\n            type: 'image/png',\n            quality: 1.0,\n            color: {\n                dark: '#000000',  \n                light: '#0000'\n            }\n        }, (err, str)=>{\n            setQr(str)\n        });\n    }\n}, [sockedId]);\n  return  (<Container className=\"content-body mt-3\">\n   Nothing\n  </Container>);\n}\nexport {TransSocketSync  }","import React , { useState, useEffect } from 'react';\nimport { Container, } from 'react-bootstrap';\nimport { SettingStore } from '../../stores';\nimport { TransSocketSync } from '../transReport';\n\nfunction TransDocument (props) {\n   return (<Container>\n      <TransSocketSync/>\n   </Container>)\n}\nexport { TransDocument }","import React , { useEffect } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from 'react-bootstrap';\n\nimport { Home } from \"./content\";\nimport { ApplicationsList, UsersList } from \"./authUsersAdmin\";\nimport { TransDocument } from \"./transReport\";\n\nfunction Body(props) {\n  useEffect(() => {\n  }, []);\n\n  return (\n    <Container fluid={true} className=\"m-0 p-0\">\n        <Switch>\n          <Route  exact path=\"/\">\n            <Home/>\n          </Route>\n          <Route  exact path=\"/authUsers\">\n            <ApplicationsList/>\n          </Route>\n          <Route  exact path=\"/authUsers/:uid\">\n            <UsersList/>\n          </Route>\n          <Route  exact path=\"/transReport\">\n            <TransDocument/>\n          </Route>\n        </Switch>\n    </Container>\n   \n  );\n}\n\nexport default Body;\n","import React from 'react';\nimport BarcodeScannerComponent from \"./BarcodeScannerComponent.js\";\n\nfunction ThreeStamps() {\n\n  const [ data, setData ] = React.useState('Not Found');\n\n  return (\n    <span>yyy\n      <BarcodeScannerComponent\n        width={500}\n        height={500}\n        onUpdate={(err, result) => {\n          if (result) setData(result.text)\n          else setData('Not Found')\n        }}\n      />\n      <p>{data}</p>\n    </span>\n  )\n}\n\nexport { ThreeStamps };","import React , { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport  Header  from './modules/Header';\nimport  Footer  from './modules/Footer';\nimport  Body from './modules/Body';\nimport { Spinner, Container  } from 'react-bootstrap';\nimport './App.css';\nimport { useMediaQuery } from 'react-responsive';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { SettingStore } from './stores/';\nimport { Loading, FingerPrinter, InfoHeader } from './modules/common';\nimport { ClientForm, SuccessInfo, CrossFromMobile , LinkFromMobile } from './modules/mobileAuth';\nimport { Engine } from './modules/common';\nimport { ThreeStamps} from './modules/mobileComps'\nconst App = (props) => {\n  const engine = new Engine();\n\n  const fp = new FingerPrinter();\n  const [loadReady, setloadReady] = useState(false);\n  const [isAuth, setIsAuth] = useState(false);\n\n  const screenModel = {\n    isDesktopOrLaptop : useMediaQuery({ query: '(min-width: 1224px)'}),\n    isBigScreen : useMediaQuery({ query: '(min-width: 1824px)' }),\n    isTabletOrMobile : useMediaQuery({ query: '(max-width: 1224px)' }),\n    isPortrait : useMediaQuery({ query: '(orientation: portrait)' }),\n    isRetina : useMediaQuery({ query: '(min-resolution: 2dppx)' })\n  };\n\n  const forceAuth = (callback)=> {\n    \n    const info = SettingStore.getState().data.authInfo;\n    \n     if (!info.authcode) {\n        setIsAuth(false);\n        if (callback) callback();\n        return true;\n      }\n    engine.loadingOn();\n    engine.DatabaseApi('admin', {\n       action: 'checkTokenAuthCode',\n       data: {\n          token: info.token, \n          authcode : info.authcode\n       }\n    }, (result)=>{\n       engine.loadingOff();\n       if (result.status === 'success') {\n          setIsAuth(true);\n       } else {\n          setIsAuth(false);\n          SettingStore.dispatch({\n            type : 'signOff'\n          });\n       }\n       if (callback) callback();\n    });\n }\n\n  useEffect(() => {\n    if (isAuth) {\n      forceAuth(); \n    }\n    const handleSubscribe = SettingStore.subscribe(() => {\n      if (SettingStore.getState()._watcher === 'afterInit') {\n        forceAuth(()=> {\n          setloadReady(true);\n        });\n      }\n      if (SettingStore.getState()._watcher === 'forceAuth') {\n        forceAuth();\n      }\n      return false;\n    }); \n\n    SettingStore.dispatch({ type: 'loadScreenModel',\n      screenModel: screenModel\n    });\n\n    return ()=> {\n      handleSubscribe();\n  }\n  }, []);\n  const pageLoading = (<InfoHeader comp={(<Spinner animation=\"border\" size=\"md\" className=\"loading-text\"/>)} />);  \n  const headNotAuth = (<InfoHeader comp={(<span size=\"lg\"><b>Admin Sign in</b></span>)} />);  \n  const pageReady = (\n      <Router className=\"p-0 m-0\">\n        <Switch>\n          <Route exact path=\"/3Stamps/:code\">\n            <ThreeStamps isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/SuccessInfo/:code/:id\">\n            <SuccessInfo isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/LinkFromMobile/:recid/:token\">\n            <LinkFromMobile isAuth={isAuth}/>\n          </Route>\n          <Route exact path=\"/CrossFromMobile/:token\">\n            <CrossFromMobile isAuth={isAuth}/>\n          </Route>\n          <Route>\n            {(!!isAuth) ? (<Header/>) : headNotAuth}\n            {(!isAuth) ? (<Container className=\"p-3\"><ClientForm/></Container>) : (<Body/>)}\n            <Footer/>\n          </Route>\n        </Switch>\n        <Loading/>\n      </Router>)\n\n    return (!loadReady) ? pageLoading : pageReady;\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\ndocument._cacheExist = true;\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}